/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-map-interaction";
exports.ids = ["vendor-chunks/react-map-interaction"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-map-interaction/dist/react-map-interaction.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-map-interaction/dist/react-map-interaction.js ***!
  \**************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory(__webpack_require__(/*! prop-types */ \"(ssr)/./node_modules/prop-types/index.js\"), __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\n\telse {}\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_754__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_754__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__nested_webpack_require_754__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__nested_webpack_require_754__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__nested_webpack_require_754__.d = function(exports, name, getter) {\n/******/ \t\tif(!__nested_webpack_require_754__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__nested_webpack_require_754__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__nested_webpack_require_754__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __nested_webpack_require_754__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__nested_webpack_require_754__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __nested_webpack_require_754__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__nested_webpack_require_754__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__nested_webpack_require_754__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__nested_webpack_require_754__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__nested_webpack_require_754__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nested_webpack_require_754__(__nested_webpack_require_754__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __nested_webpack_exports__, __nested_webpack_require_4438__) {\n\n\"use strict\";\n__nested_webpack_require_4438__.r(__nested_webpack_exports__);\n\n// EXTERNAL MODULE: external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}\nvar external_commonjs_react_commonjs2_react_amd_React_root_React_ = __nested_webpack_require_4438__(1);\nvar external_commonjs_react_commonjs2_react_amd_React_root_React_default = /*#__PURE__*/__nested_webpack_require_4438__.n(external_commonjs_react_commonjs2_react_amd_React_root_React_);\n\n// EXTERNAL MODULE: external {\"commonjs\":\"prop-types\",\"commonjs2\":\"prop-types\",\"commonj2s\":\"prop-types\",\"amd\":\"prop-types\",\"root\":\"PropTypes\"}\nvar external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_ = __nested_webpack_require_4438__(0);\nvar external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default = /*#__PURE__*/__nested_webpack_require_4438__.n(external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_);\n\n// CONCATENATED MODULE: ./src/Controls.jsx\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\nvar Controls_Controls =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Controls, _Component);\n\n  function Controls() {\n    _classCallCheck(this, Controls);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Controls).apply(this, arguments));\n  }\n\n  _createClass(Controls, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props = this.props,\n          plusBtnContents = _this$props.plusBtnContents,\n          minusBtnContents = _this$props.minusBtnContents,\n          btnClass = _this$props.btnClass,\n          plusBtnClass = _this$props.plusBtnClass,\n          minusBtnClass = _this$props.minusBtnClass,\n          controlsClass = _this$props.controlsClass,\n          scale = _this$props.scale,\n          minScale = _this$props.minScale,\n          maxScale = _this$props.maxScale,\n          onClickPlus = _this$props.onClickPlus,\n          onClickMinus = _this$props.onClickMinus,\n          disableZoom = _this$props.disableZoom;\n      var btnStyle = {\n        width: 30,\n        paddingTop: 5,\n        marginBottom: 5\n      };\n      var controlsStyle = controlsClass ? undefined : {\n        position: 'absolute',\n        right: 10,\n        top: 10\n      };\n\n      function plusHandler(e) {\n        e.preventDefault();\n        e.target.blur();\n        if (disableZoom) return;\n        onClickPlus();\n      }\n\n      function minusHandler(e) {\n        e.preventDefault();\n        e.target.blur();\n        if (disableZoom) return;\n        onClickMinus();\n      }\n\n      return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n        style: controlsStyle,\n        className: controlsClass\n      }, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", null, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"button\", {\n        ref: function ref(node) {\n          _this.plusNode = node;\n        },\n        onClick: plusHandler,\n        onTouchEnd: plusHandler,\n        className: [btnClass ? btnClass : '', plusBtnClass ? plusBtnClass : ''].join(' '),\n        type: \"button\",\n        style: btnClass || plusBtnClass ? undefined : btnStyle,\n        disabled: disableZoom || scale >= maxScale\n      }, plusBtnContents)), external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", null, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"button\", {\n        ref: function ref(node) {\n          _this.minusNode = node;\n        },\n        onClick: minusHandler,\n        onTouchEnd: minusHandler,\n        className: [btnClass ? btnClass : '', minusBtnClass ? minusBtnClass : ''].join(' '),\n        type: \"button\",\n        style: btnClass || minusBtnClass ? undefined : btnStyle,\n        disabled: disableZoom || scale <= minScale\n      }, minusBtnContents)));\n    }\n  }]);\n\n  return Controls;\n}(external_commonjs_react_commonjs2_react_amd_React_root_React_[\"Component\"]);\n\nControls_Controls.propTypes = {\n  onClickPlus: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func.isRequired,\n  onClickMinus: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func.isRequired,\n  plusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n  minusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n  btnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n  plusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n  minusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n  controlsClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n  scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n  minScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n  maxScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n  disableZoom: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool\n};\nControls_Controls.defaultProps = {\n  plusBtnContents: '+',\n  minusBtnContents: '-',\n  disableZoom: false\n};\n/* harmony default export */ var src_Controls = (Controls_Controls);\n// CONCATENATED MODULE: ./src/geometry.js\nfunction clamp(min, value, max) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction distance(p1, p2) {\n  var dx = p1.x - p2.x;\n  var dy = p1.y - p2.y;\n  return Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n}\n\nfunction midpoint(p1, p2) {\n  return {\n    x: (p1.x + p2.x) / 2,\n    y: (p1.y + p2.y) / 2\n  };\n}\n\nfunction touchPt(touch) {\n  return {\n    x: touch.clientX,\n    y: touch.clientY\n  };\n}\n\nfunction touchDistance(t0, t1) {\n  var p0 = touchPt(t0);\n  var p1 = touchPt(t1);\n  return distance(p0, p1);\n}\n\n\n// CONCATENATED MODULE: ./src/makePassiveEventOption.js\n// We want to make event listeners non-passive, and to do so have to check\n// that browsers support EventListenerOptions in the first place.\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nvar passiveSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      passiveSupported = true;\n    }\n\n  };\n  window.addEventListener(\"test\", options, options);\n  window.removeEventListener(\"test\", options, options);\n} catch (_unused) {\n  passiveSupported = false;\n}\n\nfunction makePassiveEventOption(passive) {\n  return passiveSupported ? {\n    passive: passive\n  } : passive;\n}\n\n/* harmony default export */ var src_makePassiveEventOption = (makePassiveEventOption);\n// CONCATENATED MODULE: ./src/MapInteraction.jsx\nfunction MapInteraction_typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { MapInteraction_typeof = function _typeof(obj) { return typeof obj; }; } else { MapInteraction_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return MapInteraction_typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction MapInteraction_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction MapInteraction_possibleConstructorReturn(self, call) { if (call && (MapInteraction_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return MapInteraction_assertThisInitialized(self); }\n\nfunction MapInteraction_getPrototypeOf(o) { MapInteraction_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return MapInteraction_getPrototypeOf(o); }\n\nfunction MapInteraction_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction MapInteraction_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction MapInteraction_createClass(Constructor, protoProps, staticProps) { if (protoProps) MapInteraction_defineProperties(Constructor.prototype, protoProps); if (staticProps) MapInteraction_defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction MapInteraction_inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) MapInteraction_setPrototypeOf(subClass, superClass); }\n\nfunction MapInteraction_setPrototypeOf(o, p) { MapInteraction_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return MapInteraction_setPrototypeOf(o, p); }\n\n\n\n\n\n // The amount that a value of a dimension will change given a new scale\n\nvar coordChange = function coordChange(coordinate, scaleRatio) {\n  return scaleRatio * coordinate - coordinate;\n};\n\nvar translationShape = external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n  x: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n  y: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number\n});\n/*\n  This contains logic for providing a map-like interaction to any DOM node.\n  It allows a user to pinch, zoom, translate, etc, as they would an interactive map.\n  It renders its children with the current state of the translation and does not do any scaling\n  or translating on its own. This works on both desktop, and mobile.\n*/\n\nvar MapInteraction_MapInteractionControlled =\n/*#__PURE__*/\nfunction (_Component) {\n  MapInteraction_inherits(MapInteractionControlled, _Component);\n\n  MapInteraction_createClass(MapInteractionControlled, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        // The content that will be transformed\n        children: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func,\n        // This is a controlled component\n        value: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number.isRequired,\n          translation: translationShape.isRequired\n        }).isRequired,\n        onChange: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func.isRequired,\n        disableZoom: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        disablePan: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        translationBounds: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          xMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          xMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          yMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          yMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number\n        }),\n        minScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        maxScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        showControls: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        plusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        minusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        btnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        plusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        minusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        controlsClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string\n      };\n    }\n  }, {\n    key: \"defaultProps\",\n    get: function get() {\n      return {\n        minScale: 0.05,\n        maxScale: 3,\n        showControls: false,\n        translationBounds: {},\n        disableZoom: false,\n        disablePan: false\n      };\n    }\n  }]);\n\n  function MapInteractionControlled(props) {\n    var _this;\n\n    MapInteraction_classCallCheck(this, MapInteractionControlled);\n\n    _this = MapInteraction_possibleConstructorReturn(this, MapInteraction_getPrototypeOf(MapInteractionControlled).call(this, props));\n    _this.state = {\n      shouldPreventTouchEndDefault: false\n    };\n    _this.startPointerInfo = undefined;\n    _this.onMouseDown = _this.onMouseDown.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onTouchStart = _this.onTouchStart.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onMouseMove = _this.onMouseMove.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onTouchMove = _this.onTouchMove.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onMouseUp = _this.onMouseUp.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onTouchEnd = _this.onTouchEnd.bind(MapInteraction_assertThisInitialized(_this));\n    _this.onWheel = _this.onWheel.bind(MapInteraction_assertThisInitialized(_this));\n    return _this;\n  }\n\n  MapInteraction_createClass(MapInteractionControlled, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var passiveOption = src_makePassiveEventOption(false);\n      this.getContainerNode().addEventListener('wheel', this.onWheel, passiveOption);\n      /*\n        Setup events for the gesture lifecycle: start, move, end touch\n      */\n      // start gesture\n\n      this.getContainerNode().addEventListener('touchstart', this.onTouchStart, passiveOption);\n      this.getContainerNode().addEventListener('mousedown', this.onMouseDown, passiveOption); // move gesture\n\n      window.addEventListener('touchmove', this.onTouchMove, passiveOption);\n      window.addEventListener('mousemove', this.onMouseMove, passiveOption); // end gesture\n\n      var touchAndMouseEndOptions = _objectSpread({\n        capture: true\n      }, passiveOption);\n\n      window.addEventListener('touchend', this.onTouchEnd, touchAndMouseEndOptions);\n      window.addEventListener('mouseup', this.onMouseUp, touchAndMouseEndOptions);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.getContainerNode().removeEventListener('wheel', this.onWheel); // Remove touch events\n\n      this.getContainerNode().removeEventListener('touchstart', this.onTouchStart);\n      window.removeEventListener('touchmove', this.onTouchMove);\n      window.removeEventListener('touchend', this.onTouchEnd); // Remove mouse events\n\n      this.getContainerNode().removeEventListener('mousedown', this.onMouseDown);\n      window.removeEventListener('mousemove', this.onMouseMove);\n      window.removeEventListener('mouseup', this.onMouseUp);\n    }\n    /*\n      Event handlers\n       All touch/mouse handlers preventDefault because we add\n      both touch and mouse handlers in the same session to support devicse\n      with both touch screen and mouse inputs. The browser may fire both\n      a touch and mouse event for a *single* user action, so we have to ensure\n      that only one handler is used by canceling the event in the first handler.\n       https://developer.mozilla.org/en-US/docs/Web/API/Touch_events/Supporting_both_TouchEvent_and_MouseEvent\n    */\n\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(e) {\n      e.preventDefault();\n      this.setPointerState([e]);\n    }\n  }, {\n    key: \"onTouchStart\",\n    value: function onTouchStart(e) {\n      e.preventDefault();\n      this.setPointerState(e.touches);\n    }\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp(e) {\n      this.setPointerState();\n    }\n  }, {\n    key: \"onTouchEnd\",\n    value: function onTouchEnd(e) {\n      this.setPointerState(e.touches);\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(e) {\n      if (!this.startPointerInfo || this.props.disablePan) {\n        return;\n      }\n\n      e.preventDefault();\n      this.onDrag(e);\n    }\n  }, {\n    key: \"onTouchMove\",\n    value: function onTouchMove(e) {\n      if (!this.startPointerInfo) {\n        return;\n      }\n\n      e.preventDefault();\n      var _this$props = this.props,\n          disablePan = _this$props.disablePan,\n          disableZoom = _this$props.disableZoom;\n      var isPinchAction = e.touches.length == 2 && this.startPointerInfo.pointers.length > 1;\n\n      if (isPinchAction && !disableZoom) {\n        this.scaleFromMultiTouch(e);\n      } else if (e.touches.length === 1 && this.startPointerInfo && !disablePan) {\n        this.onDrag(e.touches[0]);\n      }\n    } // handles both touch and mouse drags\n\n  }, {\n    key: \"onDrag\",\n    value: function onDrag(pointer) {\n      var _this2 = this;\n\n      var _this$startPointerInf = this.startPointerInfo,\n          translation = _this$startPointerInf.translation,\n          pointers = _this$startPointerInf.pointers;\n      var startPointer = pointers[0];\n      var dragX = pointer.clientX - startPointer.clientX;\n      var dragY = pointer.clientY - startPointer.clientY;\n      var newTranslation = {\n        x: translation.x + dragX,\n        y: translation.y + dragY\n      };\n      var shouldPreventTouchEndDefault = Math.abs(dragX) > 1 || Math.abs(dragY) > 1;\n      this.setState({\n        shouldPreventTouchEndDefault: shouldPreventTouchEndDefault\n      }, function () {\n        _this2.props.onChange({\n          scale: _this2.props.value.scale,\n          translation: _this2.clampTranslation(newTranslation)\n        });\n      });\n    }\n  }, {\n    key: \"onWheel\",\n    value: function onWheel(e) {\n      if (this.props.disableZoom) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n      var scaleChange = Math.pow(2, e.deltaY * 0.002);\n      var newScale = clamp(this.props.minScale, this.props.value.scale + (1 - scaleChange), this.props.maxScale);\n      var mousePos = this.clientPosToTranslatedPos({\n        x: e.clientX,\n        y: e.clientY\n      });\n      this.scaleFromPoint(newScale, mousePos);\n    }\n  }, {\n    key: \"setPointerState\",\n    value: function setPointerState(pointers) {\n      if (!pointers || pointers.length === 0) {\n        this.startPointerInfo = undefined;\n        return;\n      }\n\n      this.startPointerInfo = {\n        pointers: pointers,\n        scale: this.props.value.scale,\n        translation: this.props.value.translation\n      };\n    }\n  }, {\n    key: \"clampTranslation\",\n    value: function clampTranslation(desiredTranslation) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var x = desiredTranslation.x,\n          y = desiredTranslation.y;\n      var _props$translationBou = props.translationBounds,\n          xMax = _props$translationBou.xMax,\n          xMin = _props$translationBou.xMin,\n          yMax = _props$translationBou.yMax,\n          yMin = _props$translationBou.yMin;\n      xMin = xMin != undefined ? xMin : -Infinity;\n      yMin = yMin != undefined ? yMin : -Infinity;\n      xMax = xMax != undefined ? xMax : Infinity;\n      yMax = yMax != undefined ? yMax : Infinity;\n      return {\n        x: clamp(xMin, x, xMax),\n        y: clamp(yMin, y, yMax)\n      };\n    }\n  }, {\n    key: \"translatedOrigin\",\n    value: function translatedOrigin() {\n      var translation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.value.translation;\n      var clientOffset = this.getContainerBoundingClientRect();\n      return {\n        x: clientOffset.left + translation.x,\n        y: clientOffset.top + translation.y\n      };\n    } // From a given screen point return it as a point\n    // in the coordinate system of the given translation\n\n  }, {\n    key: \"clientPosToTranslatedPos\",\n    value: function clientPosToTranslatedPos(_ref) {\n      var x = _ref.x,\n          y = _ref.y;\n      var translation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.value.translation;\n      var origin = this.translatedOrigin(translation);\n      return {\n        x: x - origin.x,\n        y: y - origin.y\n      };\n    }\n  }, {\n    key: \"scaleFromPoint\",\n    value: function scaleFromPoint(newScale, focalPt) {\n      var _this$props$value = this.props.value,\n          translation = _this$props$value.translation,\n          scale = _this$props$value.scale;\n      var scaleRatio = newScale / (scale != 0 ? scale : 1);\n      var focalPtDelta = {\n        x: coordChange(focalPt.x, scaleRatio),\n        y: coordChange(focalPt.y, scaleRatio)\n      };\n      var newTranslation = {\n        x: translation.x - focalPtDelta.x,\n        y: translation.y - focalPtDelta.y\n      };\n      this.props.onChange({\n        scale: newScale,\n        translation: this.clampTranslation(newTranslation)\n      });\n    } // Given the start touches and new e.touches, scale and translate\n    // such that the initial midpoint remains as the new midpoint. This is\n    // to achieve the effect of keeping the content that was directly\n    // in the middle of the two fingers as the focal point throughout the zoom.\n\n  }, {\n    key: \"scaleFromMultiTouch\",\n    value: function scaleFromMultiTouch(e) {\n      var startTouches = this.startPointerInfo.pointers;\n      var newTouches = e.touches; // calculate new scale\n\n      var dist0 = touchDistance(startTouches[0], startTouches[1]);\n      var dist1 = touchDistance(newTouches[0], newTouches[1]);\n      var scaleChange = dist1 / dist0;\n      var startScale = this.startPointerInfo.scale;\n      var targetScale = startScale + (scaleChange - 1) * startScale;\n      var newScale = clamp(this.props.minScale, targetScale, this.props.maxScale); // calculate mid points\n\n      var startMidpoint = midpoint(touchPt(startTouches[0]), touchPt(startTouches[1]));\n      var newMidPoint = midpoint(touchPt(newTouches[0]), touchPt(newTouches[1])); // The amount we need to translate by in order for\n      // the mid point to stay in the middle (before thinking about scaling factor)\n\n      var dragDelta = {\n        x: newMidPoint.x - startMidpoint.x,\n        y: newMidPoint.y - startMidpoint.y\n      };\n      var scaleRatio = newScale / startScale; // The point originally in the middle of the fingers on the initial zoom start\n\n      var focalPt = this.clientPosToTranslatedPos(startMidpoint, this.startPointerInfo.translation); // The amount that the middle point has changed from this scaling\n\n      var focalPtDelta = {\n        x: coordChange(focalPt.x, scaleRatio),\n        y: coordChange(focalPt.y, scaleRatio)\n      }; // Translation is the original translation, plus the amount we dragged,\n      // minus what the scaling will do to the focal point. Subtracting the\n      // scaling factor keeps the midpoint in the middle of the touch points.\n\n      var newTranslation = {\n        x: this.startPointerInfo.translation.x - focalPtDelta.x + dragDelta.x,\n        y: this.startPointerInfo.translation.y - focalPtDelta.y + dragDelta.y\n      };\n      this.props.onChange({\n        scale: newScale,\n        translation: this.clampTranslation(newTranslation)\n      });\n    }\n  }, {\n    key: \"discreteScaleStepSize\",\n    value: function discreteScaleStepSize() {\n      var _this$props2 = this.props,\n          minScale = _this$props2.minScale,\n          maxScale = _this$props2.maxScale;\n      var delta = Math.abs(maxScale - minScale);\n      return delta / 10;\n    } // Scale using the center of the content as a focal point\n\n  }, {\n    key: \"changeScale\",\n    value: function changeScale(delta) {\n      var targetScale = this.props.value.scale + delta;\n      var _this$props3 = this.props,\n          minScale = _this$props3.minScale,\n          maxScale = _this$props3.maxScale;\n      var scale = clamp(minScale, targetScale, maxScale);\n      var rect = this.getContainerBoundingClientRect();\n      var x = rect.left + rect.width / 2;\n      var y = rect.top + rect.height / 2;\n      var focalPoint = this.clientPosToTranslatedPos({\n        x: x,\n        y: y\n      });\n      this.scaleFromPoint(scale, focalPoint);\n    } // Done like this so it is mockable\n\n  }, {\n    key: \"getContainerNode\",\n    value: function getContainerNode() {\n      return this.containerNode;\n    }\n  }, {\n    key: \"getContainerBoundingClientRect\",\n    value: function getContainerBoundingClientRect() {\n      return this.getContainerNode().getBoundingClientRect();\n    }\n  }, {\n    key: \"renderControls\",\n    value: function renderControls() {\n      var _this3 = this;\n\n      var step = this.discreteScaleStepSize();\n      return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(src_Controls, {\n        onClickPlus: function onClickPlus() {\n          return _this3.changeScale(step);\n        },\n        onClickMinus: function onClickMinus() {\n          return _this3.changeScale(-step);\n        },\n        plusBtnContents: this.props.plusBtnContents,\n        minusBtnContents: this.props.minusBtnContents,\n        btnClass: this.props.btnClass,\n        plusBtnClass: this.props.plusBtnClass,\n        minusBtnClass: this.props.minusBtnClass,\n        controlsClass: this.props.controlsClass,\n        scale: this.props.value.scale,\n        minScale: this.props.minScale,\n        maxScale: this.props.maxScale,\n        disableZoom: this.props.disableZoom\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          showControls = _this$props4.showControls,\n          children = _this$props4.children;\n      var scale = this.props.value.scale; // Defensively clamp the translation. This should not be necessary if we properly set state elsewhere.\n\n      var translation = this.clampTranslation(this.props.value.translation);\n      /*\n        This is a little trick to allow the following ux: We want the parent of this\n        component to decide if elements inside the map are clickable. Normally, you wouldn't\n        want to trigger a click event when the user *drags* on an element (only if they click\n        and then release w/o dragging at all). However we don't want to assume this\n        behavior here, so we call `preventDefault` and then let the parent check\n        `e.defaultPrevented`. That value being true means that we are signalling that\n        a drag event ended, not a click.\n      */\n\n      var handleEventCapture = function handleEventCapture(e) {\n        if (_this4.state.shouldPreventTouchEndDefault) {\n          e.preventDefault();\n\n          _this4.setState({\n            shouldPreventTouchEndDefault: false\n          });\n        }\n      };\n\n      return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n        ref: function ref(node) {\n          _this4.containerNode = node;\n        },\n        style: {\n          height: '100%',\n          width: '100%',\n          position: 'relative',\n          // for absolutely positioned children\n          touchAction: 'none'\n        },\n        onClickCapture: handleEventCapture,\n        onTouchEndCapture: handleEventCapture\n      }, (children || undefined) && children({\n        translation: translation,\n        scale: scale\n      }), (showControls || undefined) && this.renderControls());\n    }\n  }]);\n\n  return MapInteractionControlled;\n}(external_commonjs_react_commonjs2_react_amd_React_root_React_[\"Component\"]);\n/*\n  Main entry point component.\n  Determines if it's parent is controlling (eg it manages state) or leaving us uncontrolled\n  (eg we manage our own internal state)\n*/\n\nvar MapInteraction_MapInteractionController =\n/*#__PURE__*/\nfunction (_Component2) {\n  MapInteraction_inherits(MapInteractionController, _Component2);\n\n  MapInteraction_createClass(MapInteractionController, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        children: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func,\n        value: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number.isRequired,\n          translation: translationShape.isRequired\n        }),\n        defaultValue: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          scale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number.isRequired,\n          translation: translationShape.isRequired\n        }),\n        disableZoom: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        disablePan: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        onChange: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.func,\n        translationBounds: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.shape({\n          xMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          xMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          yMin: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n          yMax: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number\n        }),\n        minScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        maxScale: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.number,\n        showControls: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.bool,\n        plusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        minusBtnContents: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.node,\n        btnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        plusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        minusBtnClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string,\n        controlsClass: external_commonjs_prop_types_commonjs2_prop_types_commonj2s_prop_types_amd_prop_types_root_PropTypes_default.a.string\n      };\n    }\n  }]);\n\n  function MapInteractionController(props) {\n    var _this5;\n\n    MapInteraction_classCallCheck(this, MapInteractionController);\n\n    _this5 = MapInteraction_possibleConstructorReturn(this, MapInteraction_getPrototypeOf(MapInteractionController).call(this, props));\n    var controlled = MapInteractionController.isControlled(props);\n\n    if (controlled) {\n      _this5.state = {\n        lastKnownValueFromProps: props.value\n      };\n    } else {\n      // Set the necessary state for controlling map interaction ourselves\n      _this5.state = {\n        value: props.defaultValue || {\n          scale: 1,\n          translation: {\n            x: 0,\n            y: 0\n          }\n        },\n        lastKnownValueFromProps: undefined\n      };\n    }\n\n    return _this5;\n  }\n  /*\n    Handle the parent switchg form controlled to uncontrolled or vice versa.\n    This is at most a best-effort attempt. It is not gauranteed by our API\n    but it will do its best to maintain the state such that if the parent\n    accidentally switches between controlled/uncontrolled there won't be\n    any jankiness or jumpiness.\n     This tries to mimick how the React <input /> component behaves.\n  */\n\n\n  MapInteraction_createClass(MapInteractionController, [{\n    key: \"innerProps\",\n    // The subset of this component's props that need to be passed\n    // down to the core RMI component\n    value: function innerProps() {\n      var _this$props5 = this.props,\n          value = _this$props5.value,\n          defaultValue = _this$props5.defaultValue,\n          onChange = _this$props5.onChange,\n          innerProps = _objectWithoutProperties(_this$props5, [\"value\", \"defaultValue\", \"onChange\"]);\n\n      return innerProps;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var controlled = MapInteractionController.isControlled(this.props);\n      return controlled ? this.props.value : this.state.value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var _this$props6 = this.props,\n          _onChange = _this$props6.onChange,\n          children = _this$props6.children;\n      var controlled = MapInteractionController.isControlled(this.props);\n      var value = controlled ? this.props.value : this.state.value;\n      return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(MapInteraction_MapInteractionControlled, _extends({\n        onChange: function onChange(value) {\n          controlled ? _onChange(value) : _this6.setState({\n            value: value\n          });\n        },\n        value: value\n      }, this.innerProps()), children);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var nowControlled = MapInteractionController.isControlled(props);\n      var wasControlled = state.lastKnownValueFromProps && MapInteractionController.isControlled({\n        value: state.lastKnownValueFromProps\n      });\n      /*\n        State transitions:\n          uncontrolled --> controlled   (unset internal state, set last props from parent)\n          controlled   --> uncontrolled (set internal state to last props from parent)\n          controlled   --> controlled   (update last props from parent)\n          uncontrolled --> uncontrolled (do nothing)\n         Note that the second two (no change in control) will also happen on the\n        initial render because we set lastKnownValueFromProps in the constructor.\n      */\n\n      if (!wasControlled && nowControlled) {\n        return {\n          value: undefined,\n          lastKnownValueFromProps: props.value\n        };\n      } else if (wasControlled && !nowControlled) {\n        return {\n          value: state.lastKnownValueFromProps,\n          lastKnownValueFromProps: undefined\n        };\n      } else if (wasControlled && nowControlled) {\n        return {\n          lastKnownValueFromProps: props.value\n        };\n      } else if (!wasControlled && !nowControlled) {\n        return null;\n      }\n    }\n  }, {\n    key: \"isControlled\",\n    value: function isControlled(props) {\n      // Similar to React's <input /> API, setting a value declares\n      // that you want to control this component.\n      return props.value != undefined;\n    }\n  }]);\n\n  return MapInteractionController;\n}(external_commonjs_react_commonjs2_react_amd_React_root_React_[\"Component\"]);\n\n/* harmony default export */ var MapInteraction = (MapInteraction_MapInteractionController);\n// CONCATENATED MODULE: ./src/MapInteractionCSS.jsx\n\n\n/*\n  This component provides a map like interaction to any content that you place in it. It will let\n  the user zoom and pan the children by scaling and translating props.children using css.\n*/\n\nvar MapInteractionCSS_MapInteractionCSS = function MapInteractionCSS(props) {\n  return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(MapInteraction, props, function (_ref) {\n    var translation = _ref.translation,\n        scale = _ref.scale;\n    // Translate first and then scale.  Otherwise, the scale would affect the translation.\n    var transform = \"translate(\".concat(translation.x, \"px, \").concat(translation.y, \"px) scale(\").concat(scale, \")\");\n    return external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n      style: {\n        height: '100%',\n        width: '100%',\n        position: 'relative',\n        // for absolutely positioned children\n        overflow: 'hidden',\n        touchAction: 'none',\n        // Not supported in Safari :(\n        msTouchAction: 'none',\n        cursor: 'all-scroll',\n        WebkitUserSelect: 'none',\n        MozUserSelect: 'none',\n        msUserSelect: 'none'\n      }\n    }, external_commonjs_react_commonjs2_react_amd_React_root_React_default.a.createElement(\"div\", {\n      style: {\n        display: 'inline-block',\n        // size to content\n        transform: transform,\n        transformOrigin: '0 0 '\n      }\n    }, props.children));\n  });\n};\n\n/* harmony default export */ var src_MapInteractionCSS = (MapInteractionCSS_MapInteractionCSS);\n// CONCATENATED MODULE: ./src/index.js\n/* concated harmony reexport MapInteractionCSS */__nested_webpack_require_4438__.d(__nested_webpack_exports__, \"MapInteractionCSS\", function() { return src_MapInteractionCSS; });\n/* concated harmony reexport MapInteraction */__nested_webpack_require_4438__.d(__nested_webpack_exports__, \"MapInteraction\", function() { return MapInteraction; });\n\n\n\n/* harmony default export */ var src = __nested_webpack_exports__[\"default\"] = (MapInteraction);\n\n/***/ })\n/******/ ]);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWludGVyYWN0aW9uL2Rpc3QvcmVhY3QtbWFwLWludGVyYWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsSUFBSSxJQUF5RDtBQUM3RCwyQkFBMkIsbUJBQU8sQ0FBQyw0REFBWSxHQUFHLG1CQUFPLENBQUMsd0dBQU87QUFDakUsTUFBTSxFQUtvRTtBQUMxRSxDQUFDO0FBQ0QscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhCQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSw4QkFBbUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQjtBQUM3QjtBQUNBO0FBQ0EsVUFBVSw4QkFBbUI7QUFDN0I7QUFDQTtBQUNBLFVBQVUsOEJBQW1CO0FBQzdCLGVBQWUsOEJBQW1CO0FBQ2xDLG1EQUFtRCwrQkFBK0I7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQjtBQUM3QjtBQUNBLGlFQUFpRSxpQkFBaUI7QUFDbEY7QUFDQSwwREFBMEQsYUFBYTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsOEJBQW1CO0FBQzdCLGdDQUFnQyw4QkFBbUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4QkFBbUI7QUFDOUIsa0RBQWtELGdDQUFnQztBQUNsRiwwRUFBMEUsOEJBQW1CLDRCQUE0QixvQkFBb0I7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQjtBQUM3QjtBQUNBLG9DQUFvQyw0QkFBNEI7QUFDaEUsMENBQTBDO0FBQzFDLFdBQVcsOEJBQW1CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw4QkFBbUIsa0NBQWtDO0FBQy9EO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOEJBQW1CLENBQUMsOEJBQW1CO0FBQ3hELFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQSx3QkFBd0IsMEJBQW1CLEVBQUUsK0JBQW1COztBQUVoRTtBQUNBLCtCQUFtQixHQUFHLDBCQUFtQjs7QUFFekMsOEJBQThCO0FBQzlCLG9FQUFvRSwrQkFBbUI7QUFDdkYsd0ZBQXdGLCtCQUFtQjs7QUFFM0csOEJBQThCO0FBQzlCLDRHQUE0RywrQkFBbUI7QUFDL0gsZ0lBQWdJLCtCQUFtQjs7QUFFbko7QUFDQSx3QkFBd0IsMkVBQTJFLGtDQUFrQyx3QkFBd0IsT0FBTyxrQ0FBa0MsbUlBQW1JOztBQUV6VSxrREFBa0QsMENBQTBDOztBQUU1Riw0Q0FBNEMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RDs7QUFFL1AsOERBQThELHNFQUFzRSw4REFBOEQ7O0FBRWxNLGtEQUFrRCwwRUFBMEUsZUFBZTs7QUFFM0ksd0NBQXdDLHVCQUF1Qix5RkFBeUY7O0FBRXhKLDhCQUE4QixnR0FBZ0csbURBQW1EOztBQUVqTCwyQ0FBMkMsK0RBQStELDZFQUE2RSx5RUFBeUUsZUFBZSx1REFBdUQsR0FBRzs7QUFFelUsaUNBQWlDLDRFQUE0RSxpQkFBaUIsYUFBYTs7Ozs7QUFLM0k7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLHNDQUFzQywyRUFBMkUsZ0RBQWdELHdCQUF3QixPQUFPLGdEQUFnRCxtSUFBbUk7O0FBRW5YLHNCQUFzQixnREFBZ0QsZ0JBQWdCLHNCQUFzQixPQUFPLDJCQUEyQiwwQkFBMEIseURBQXlELGlDQUFpQyxrQkFBa0I7O0FBRXBSLHNEQUFzRCwrQkFBK0IsOERBQThELFlBQVksb0NBQW9DLDZEQUE2RCxZQUFZLDZCQUE2QixPQUFPLDJCQUEyQiwwQ0FBMEMsd0VBQXdFLCtCQUErQjs7QUFFNWQsMkRBQTJELCtCQUErQixpQkFBaUIsc0NBQXNDLFlBQVksWUFBWSx1QkFBdUIsT0FBTyxxQkFBcUIsMENBQTBDLDZCQUE2Qjs7QUFFblMsaUNBQWlDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsbUNBQW1DLDBEQUEwRCxzRkFBc0YsaUVBQWlFLE1BQU0saUNBQWlDLDRDQUE0QyxLQUFLOztBQUVqZCw0Q0FBNEMsa0JBQWtCLGtDQUFrQyxvRUFBb0UsS0FBSyxPQUFPLG9CQUFvQjs7QUFFcE0sZ0VBQWdFLDBDQUEwQzs7QUFFMUcsZ0VBQWdFLHdGQUF3RixlQUFlOztBQUV2Syw0Q0FBNEMsOEdBQThHLG1EQUFtRDs7QUFFN00sc0RBQXNELHVCQUF1Qix5RkFBeUY7O0FBRXRLLDBEQUEwRCxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVEOztBQUU3USw0RUFBNEUsb0ZBQW9GLDRFQUE0RTs7QUFFNU8seURBQXlELCtEQUErRCw2RUFBNkUseUVBQXlFLGVBQWUsdURBQXVELEdBQUc7O0FBRXZWLCtDQUErQywwRkFBMEYsaUJBQWlCLGFBQWE7Ozs7OztBQU12Szs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOEZBQThGOztBQUU5RjtBQUNBLDZFQUE2RTs7QUFFN0U7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwwRUFBMEU7O0FBRTFFO0FBQ0E7QUFDQSwrREFBK0Q7O0FBRS9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07O0FBRU4sR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUY7O0FBRW5GO0FBQ0Esa0ZBQWtGO0FBQ2xGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDOztBQUU5QyxxR0FBcUc7O0FBRXJHO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxNQUFNOztBQUVOLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMENBQTBDOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxpREFBaUQsK0JBQW1CLEdBQUcsMEJBQW1CLG9DQUFvQywrQkFBK0I7QUFDN0osOENBQThDLCtCQUFtQixHQUFHLDBCQUFtQixpQ0FBaUMsd0JBQXdCOzs7O0FBSWhKLHVDQUF1QywwQkFBbUI7O0FBRTFELE9BQU87QUFDUDtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZGVsc29jaWFsZm9vZC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtaW50ZXJhY3Rpb24vZGlzdC9yZWFjdC1tYXAtaW50ZXJhY3Rpb24uanM/OTc1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpLCByZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicHJvcC10eXBlc1wiLCBcIlJlYWN0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlJlYWN0TWFwSW50ZXJhY3Rpb25cIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpLCByZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlYWN0TWFwSW50ZXJhY3Rpb25cIl0gPSBmYWN0b3J5KHJvb3RbXCJQcm9wVHlwZXNcIl0sIHJvb3RbXCJSZWFjdFwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzFfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fO1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xX187XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCB7XCJjb21tb25qc1wiOlwicmVhY3RcIixcImNvbW1vbmpzMlwiOlwicmVhY3RcIixcImFtZFwiOlwiUmVhY3RcIixcInJvb3RcIjpcIlJlYWN0XCJ9XG52YXIgZXh0ZXJuYWxfY29tbW9uanNfcmVhY3RfY29tbW9uanMyX3JlYWN0X2FtZF9SZWFjdF9yb290X1JlYWN0XyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgZXh0ZXJuYWxfY29tbW9uanNfcmVhY3RfY29tbW9uanMyX3JlYWN0X2FtZF9SZWFjdF9yb290X1JlYWN0X2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGV4dGVybmFsX2NvbW1vbmpzX3JlYWN0X2NvbW1vbmpzMl9yZWFjdF9hbWRfUmVhY3Rfcm9vdF9SZWFjdF8pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJwcm9wLXR5cGVzXCIsXCJjb21tb25qczJcIjpcInByb3AtdHlwZXNcIixcImNvbW1vbmoyc1wiOlwicHJvcC10eXBlc1wiLFwiYW1kXCI6XCJwcm9wLXR5cGVzXCIsXCJyb290XCI6XCJQcm9wVHlwZXNcIn1cbnZhciBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzXyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL0NvbnRyb2xzLmpzeFxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cblxuXG5cbnZhciBDb250cm9sc19Db250cm9scyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ29udHJvbHMsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbnRyb2xzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250cm9scyk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKENvbnRyb2xzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb250cm9scywgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcGx1c0J0bkNvbnRlbnRzID0gX3RoaXMkcHJvcHMucGx1c0J0bkNvbnRlbnRzLFxuICAgICAgICAgIG1pbnVzQnRuQ29udGVudHMgPSBfdGhpcyRwcm9wcy5taW51c0J0bkNvbnRlbnRzLFxuICAgICAgICAgIGJ0bkNsYXNzID0gX3RoaXMkcHJvcHMuYnRuQ2xhc3MsXG4gICAgICAgICAgcGx1c0J0bkNsYXNzID0gX3RoaXMkcHJvcHMucGx1c0J0bkNsYXNzLFxuICAgICAgICAgIG1pbnVzQnRuQ2xhc3MgPSBfdGhpcyRwcm9wcy5taW51c0J0bkNsYXNzLFxuICAgICAgICAgIGNvbnRyb2xzQ2xhc3MgPSBfdGhpcyRwcm9wcy5jb250cm9sc0NsYXNzLFxuICAgICAgICAgIHNjYWxlID0gX3RoaXMkcHJvcHMuc2NhbGUsXG4gICAgICAgICAgbWluU2NhbGUgPSBfdGhpcyRwcm9wcy5taW5TY2FsZSxcbiAgICAgICAgICBtYXhTY2FsZSA9IF90aGlzJHByb3BzLm1heFNjYWxlLFxuICAgICAgICAgIG9uQ2xpY2tQbHVzID0gX3RoaXMkcHJvcHMub25DbGlja1BsdXMsXG4gICAgICAgICAgb25DbGlja01pbnVzID0gX3RoaXMkcHJvcHMub25DbGlja01pbnVzLFxuICAgICAgICAgIGRpc2FibGVab29tID0gX3RoaXMkcHJvcHMuZGlzYWJsZVpvb207XG4gICAgICB2YXIgYnRuU3R5bGUgPSB7XG4gICAgICAgIHdpZHRoOiAzMCxcbiAgICAgICAgcGFkZGluZ1RvcDogNSxcbiAgICAgICAgbWFyZ2luQm90dG9tOiA1XG4gICAgICB9O1xuICAgICAgdmFyIGNvbnRyb2xzU3R5bGUgPSBjb250cm9sc0NsYXNzID8gdW5kZWZpbmVkIDoge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgcmlnaHQ6IDEwLFxuICAgICAgICB0b3A6IDEwXG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBwbHVzSGFuZGxlcihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS50YXJnZXQuYmx1cigpO1xuICAgICAgICBpZiAoZGlzYWJsZVpvb20pIHJldHVybjtcbiAgICAgICAgb25DbGlja1BsdXMoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWludXNIYW5kbGVyKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnRhcmdldC5ibHVyKCk7XG4gICAgICAgIGlmIChkaXNhYmxlWm9vbSkgcmV0dXJuO1xuICAgICAgICBvbkNsaWNrTWludXMoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV4dGVybmFsX2NvbW1vbmpzX3JlYWN0X2NvbW1vbmpzMl9yZWFjdF9hbWRfUmVhY3Rfcm9vdF9SZWFjdF9kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHN0eWxlOiBjb250cm9sc1N0eWxlLFxuICAgICAgICBjbGFzc05hbWU6IGNvbnRyb2xzQ2xhc3NcbiAgICAgIH0sIGV4dGVybmFsX2NvbW1vbmpzX3JlYWN0X2NvbW1vbmpzMl9yZWFjdF9hbWRfUmVhY3Rfcm9vdF9SZWFjdF9kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBleHRlcm5hbF9jb21tb25qc19yZWFjdF9jb21tb25qczJfcmVhY3RfYW1kX1JlYWN0X3Jvb3RfUmVhY3RfZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgICAgX3RoaXMucGx1c05vZGUgPSBub2RlO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsaWNrOiBwbHVzSGFuZGxlcixcbiAgICAgICAgb25Ub3VjaEVuZDogcGx1c0hhbmRsZXIsXG4gICAgICAgIGNsYXNzTmFtZTogW2J0bkNsYXNzID8gYnRuQ2xhc3MgOiAnJywgcGx1c0J0bkNsYXNzID8gcGx1c0J0bkNsYXNzIDogJyddLmpvaW4oJyAnKSxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgc3R5bGU6IGJ0bkNsYXNzIHx8IHBsdXNCdG5DbGFzcyA/IHVuZGVmaW5lZCA6IGJ0blN0eWxlLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZVpvb20gfHwgc2NhbGUgPj0gbWF4U2NhbGVcbiAgICAgIH0sIHBsdXNCdG5Db250ZW50cykpLCBleHRlcm5hbF9jb21tb25qc19yZWFjdF9jb21tb25qczJfcmVhY3RfYW1kX1JlYWN0X3Jvb3RfUmVhY3RfZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgZXh0ZXJuYWxfY29tbW9uanNfcmVhY3RfY29tbW9uanMyX3JlYWN0X2FtZF9SZWFjdF9yb290X1JlYWN0X2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgIF90aGlzLm1pbnVzTm9kZSA9IG5vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xpY2s6IG1pbnVzSGFuZGxlcixcbiAgICAgICAgb25Ub3VjaEVuZDogbWludXNIYW5kbGVyLFxuICAgICAgICBjbGFzc05hbWU6IFtidG5DbGFzcyA/IGJ0bkNsYXNzIDogJycsIG1pbnVzQnRuQ2xhc3MgPyBtaW51c0J0bkNsYXNzIDogJyddLmpvaW4oJyAnKSxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgc3R5bGU6IGJ0bkNsYXNzIHx8IG1pbnVzQnRuQ2xhc3MgPyB1bmRlZmluZWQgOiBidG5TdHlsZSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVab29tIHx8IHNjYWxlIDw9IG1pblNjYWxlXG4gICAgICB9LCBtaW51c0J0bkNvbnRlbnRzKSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb250cm9scztcbn0oZXh0ZXJuYWxfY29tbW9uanNfcmVhY3RfY29tbW9uanMyX3JlYWN0X2FtZF9SZWFjdF9yb290X1JlYWN0X1tcIkNvbXBvbmVudFwiXSk7XG5cbkNvbnRyb2xzX0NvbnRyb2xzLnByb3BUeXBlcyA9IHtcbiAgb25DbGlja1BsdXM6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLmZ1bmMuaXNSZXF1aXJlZCxcbiAgb25DbGlja01pbnVzOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5mdW5jLmlzUmVxdWlyZWQsXG4gIHBsdXNCdG5Db250ZW50czogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubm9kZSxcbiAgbWludXNCdG5Db250ZW50czogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubm9kZSxcbiAgYnRuQ2xhc3M6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLnN0cmluZyxcbiAgcGx1c0J0bkNsYXNzOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5zdHJpbmcsXG4gIG1pbnVzQnRuQ2xhc3M6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLnN0cmluZyxcbiAgY29udHJvbHNDbGFzczogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEuc3RyaW5nLFxuICBzY2FsZTogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyLFxuICBtaW5TY2FsZTogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyLFxuICBtYXhTY2FsZTogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyLFxuICBkaXNhYmxlWm9vbTogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEuYm9vbFxufTtcbkNvbnRyb2xzX0NvbnRyb2xzLmRlZmF1bHRQcm9wcyA9IHtcbiAgcGx1c0J0bkNvbnRlbnRzOiAnKycsXG4gIG1pbnVzQnRuQ29udGVudHM6ICctJyxcbiAgZGlzYWJsZVpvb206IGZhbHNlXG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgc3JjX0NvbnRyb2xzID0gKENvbnRyb2xzX0NvbnRyb2xzKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2dlb21ldHJ5LmpzXG5mdW5jdGlvbiBjbGFtcChtaW4sIHZhbHVlLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4odmFsdWUsIG1heCkpO1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZShwMSwgcDIpIHtcbiAgdmFyIGR4ID0gcDEueCAtIHAyLng7XG4gIHZhciBkeSA9IHAxLnkgLSBwMi55O1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGR4LCAyKSArIE1hdGgucG93KGR5LCAyKSk7XG59XG5cbmZ1bmN0aW9uIG1pZHBvaW50KHAxLCBwMikge1xuICByZXR1cm4ge1xuICAgIHg6IChwMS54ICsgcDIueCkgLyAyLFxuICAgIHk6IChwMS55ICsgcDIueSkgLyAyXG4gIH07XG59XG5cbmZ1bmN0aW9uIHRvdWNoUHQodG91Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiB0b3VjaC5jbGllbnRYLFxuICAgIHk6IHRvdWNoLmNsaWVudFlcbiAgfTtcbn1cblxuZnVuY3Rpb24gdG91Y2hEaXN0YW5jZSh0MCwgdDEpIHtcbiAgdmFyIHAwID0gdG91Y2hQdCh0MCk7XG4gIHZhciBwMSA9IHRvdWNoUHQodDEpO1xuICByZXR1cm4gZGlzdGFuY2UocDAsIHAxKTtcbn1cblxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9tYWtlUGFzc2l2ZUV2ZW50T3B0aW9uLmpzXG4vLyBXZSB3YW50IHRvIG1ha2UgZXZlbnQgbGlzdGVuZXJzIG5vbi1wYXNzaXZlLCBhbmQgdG8gZG8gc28gaGF2ZSB0byBjaGVja1xuLy8gdGhhdCBicm93c2VycyBzdXBwb3J0IEV2ZW50TGlzdGVuZXJPcHRpb25zIGluIHRoZSBmaXJzdCBwbGFjZS5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyI1NhZmVseV9kZXRlY3Rpbmdfb3B0aW9uX3N1cHBvcnRcbnZhciBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciBvcHRpb25zID0ge1xuICAgIGdldCBwYXNzaXZlKCkge1xuICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgfVxuXG4gIH07XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBvcHRpb25zLCBvcHRpb25zKTtcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIG9wdGlvbnMsIG9wdGlvbnMpO1xufSBjYXRjaCAoX3VudXNlZCkge1xuICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG1ha2VQYXNzaXZlRXZlbnRPcHRpb24ocGFzc2l2ZSkge1xuICByZXR1cm4gcGFzc2l2ZVN1cHBvcnRlZCA/IHtcbiAgICBwYXNzaXZlOiBwYXNzaXZlXG4gIH0gOiBwYXNzaXZlO1xufVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBzcmNfbWFrZVBhc3NpdmVFdmVudE9wdGlvbiA9IChtYWtlUGFzc2l2ZUV2ZW50T3B0aW9uKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL01hcEludGVyYWN0aW9uLmpzeFxuZnVuY3Rpb24gTWFwSW50ZXJhY3Rpb25fdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgTWFwSW50ZXJhY3Rpb25fdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IE1hcEludGVyYWN0aW9uX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBNYXBJbnRlcmFjdGlvbl90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIE1hcEludGVyYWN0aW9uX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gTWFwSW50ZXJhY3Rpb25fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChNYXBJbnRlcmFjdGlvbl90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIE1hcEludGVyYWN0aW9uX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBNYXBJbnRlcmFjdGlvbl9nZXRQcm90b3R5cGVPZihvKSB7IE1hcEludGVyYWN0aW9uX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIE1hcEludGVyYWN0aW9uX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIE1hcEludGVyYWN0aW9uX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIE1hcEludGVyYWN0aW9uX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBNYXBJbnRlcmFjdGlvbl9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIE1hcEludGVyYWN0aW9uX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBNYXBJbnRlcmFjdGlvbl9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBNYXBJbnRlcmFjdGlvbl9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBNYXBJbnRlcmFjdGlvbl9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gTWFwSW50ZXJhY3Rpb25fc2V0UHJvdG90eXBlT2YobywgcCkgeyBNYXBJbnRlcmFjdGlvbl9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gTWFwSW50ZXJhY3Rpb25fc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuXG5cblxuXG4gLy8gVGhlIGFtb3VudCB0aGF0IGEgdmFsdWUgb2YgYSBkaW1lbnNpb24gd2lsbCBjaGFuZ2UgZ2l2ZW4gYSBuZXcgc2NhbGVcblxudmFyIGNvb3JkQ2hhbmdlID0gZnVuY3Rpb24gY29vcmRDaGFuZ2UoY29vcmRpbmF0ZSwgc2NhbGVSYXRpbykge1xuICByZXR1cm4gc2NhbGVSYXRpbyAqIGNvb3JkaW5hdGUgLSBjb29yZGluYXRlO1xufTtcblxudmFyIHRyYW5zbGF0aW9uU2hhcGUgPSBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5zaGFwZSh7XG4gIHg6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLm51bWJlcixcbiAgeTogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyXG59KTtcbi8qXG4gIFRoaXMgY29udGFpbnMgbG9naWMgZm9yIHByb3ZpZGluZyBhIG1hcC1saWtlIGludGVyYWN0aW9uIHRvIGFueSBET00gbm9kZS5cbiAgSXQgYWxsb3dzIGEgdXNlciB0byBwaW5jaCwgem9vbSwgdHJhbnNsYXRlLCBldGMsIGFzIHRoZXkgd291bGQgYW4gaW50ZXJhY3RpdmUgbWFwLlxuICBJdCByZW5kZXJzIGl0cyBjaGlsZHJlbiB3aXRoIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSB0cmFuc2xhdGlvbiBhbmQgZG9lcyBub3QgZG8gYW55IHNjYWxpbmdcbiAgb3IgdHJhbnNsYXRpbmcgb24gaXRzIG93bi4gVGhpcyB3b3JrcyBvbiBib3RoIGRlc2t0b3AsIGFuZCBtb2JpbGUuXG4qL1xuXG52YXIgTWFwSW50ZXJhY3Rpb25fTWFwSW50ZXJhY3Rpb25Db250cm9sbGVkID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIE1hcEludGVyYWN0aW9uX2luaGVyaXRzKE1hcEludGVyYWN0aW9uQ29udHJvbGxlZCwgX0NvbXBvbmVudCk7XG5cbiAgTWFwSW50ZXJhY3Rpb25fY3JlYXRlQ2xhc3MoTWFwSW50ZXJhY3Rpb25Db250cm9sbGVkLCBudWxsLCBbe1xuICAgIGtleTogXCJwcm9wVHlwZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC8vIFRoZSBjb250ZW50IHRoYXQgd2lsbCBiZSB0cmFuc2Zvcm1lZFxuICAgICAgICBjaGlsZHJlbjogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEuZnVuYyxcbiAgICAgICAgLy8gVGhpcyBpcyBhIGNvbnRyb2xsZWQgY29tcG9uZW50XG4gICAgICAgIHZhbHVlOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5zaGFwZSh7XG4gICAgICAgICAgc2NhbGU6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgIHRyYW5zbGF0aW9uOiB0cmFuc2xhdGlvblNoYXBlLmlzUmVxdWlyZWRcbiAgICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICAgICAgb25DaGFuZ2U6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgICAgZGlzYWJsZVpvb206IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLmJvb2wsXG4gICAgICAgIGRpc2FibGVQYW46IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLmJvb2wsXG4gICAgICAgIHRyYW5zbGF0aW9uQm91bmRzOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5zaGFwZSh7XG4gICAgICAgICAgeE1pbjogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyLFxuICAgICAgICAgIHhNYXg6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLm51bWJlcixcbiAgICAgICAgICB5TWluOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5udW1iZXIsXG4gICAgICAgICAgeU1heDogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyXG4gICAgICAgIH0pLFxuICAgICAgICBtaW5TY2FsZTogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyLFxuICAgICAgICBtYXhTY2FsZTogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyLFxuICAgICAgICBzaG93Q29udHJvbHM6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLmJvb2wsXG4gICAgICAgIHBsdXNCdG5Db250ZW50czogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubm9kZSxcbiAgICAgICAgbWludXNCdG5Db250ZW50czogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubm9kZSxcbiAgICAgICAgYnRuQ2xhc3M6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLnN0cmluZyxcbiAgICAgICAgcGx1c0J0bkNsYXNzOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5zdHJpbmcsXG4gICAgICAgIG1pbnVzQnRuQ2xhc3M6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLnN0cmluZyxcbiAgICAgICAgY29udHJvbHNDbGFzczogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEuc3RyaW5nXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0UHJvcHNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1pblNjYWxlOiAwLjA1LFxuICAgICAgICBtYXhTY2FsZTogMyxcbiAgICAgICAgc2hvd0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgdHJhbnNsYXRpb25Cb3VuZHM6IHt9LFxuICAgICAgICBkaXNhYmxlWm9vbTogZmFsc2UsXG4gICAgICAgIGRpc2FibGVQYW46IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIE1hcEludGVyYWN0aW9uQ29udHJvbGxlZChwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIE1hcEludGVyYWN0aW9uX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hcEludGVyYWN0aW9uQ29udHJvbGxlZCk7XG5cbiAgICBfdGhpcyA9IE1hcEludGVyYWN0aW9uX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgTWFwSW50ZXJhY3Rpb25fZ2V0UHJvdG90eXBlT2YoTWFwSW50ZXJhY3Rpb25Db250cm9sbGVkKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzaG91bGRQcmV2ZW50VG91Y2hFbmREZWZhdWx0OiBmYWxzZVxuICAgIH07XG4gICAgX3RoaXMuc3RhcnRQb2ludGVySW5mbyA9IHVuZGVmaW5lZDtcbiAgICBfdGhpcy5vbk1vdXNlRG93biA9IF90aGlzLm9uTW91c2VEb3duLmJpbmQoTWFwSW50ZXJhY3Rpb25fYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMub25Ub3VjaFN0YXJ0ID0gX3RoaXMub25Ub3VjaFN0YXJ0LmJpbmQoTWFwSW50ZXJhY3Rpb25fYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMub25Nb3VzZU1vdmUgPSBfdGhpcy5vbk1vdXNlTW92ZS5iaW5kKE1hcEludGVyYWN0aW9uX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIF90aGlzLm9uVG91Y2hNb3ZlID0gX3RoaXMub25Ub3VjaE1vdmUuYmluZChNYXBJbnRlcmFjdGlvbl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5vbk1vdXNlVXAgPSBfdGhpcy5vbk1vdXNlVXAuYmluZChNYXBJbnRlcmFjdGlvbl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICBfdGhpcy5vblRvdWNoRW5kID0gX3RoaXMub25Ub3VjaEVuZC5iaW5kKE1hcEludGVyYWN0aW9uX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIF90aGlzLm9uV2hlZWwgPSBfdGhpcy5vbldoZWVsLmJpbmQoTWFwSW50ZXJhY3Rpb25fYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTWFwSW50ZXJhY3Rpb25fY3JlYXRlQ2xhc3MoTWFwSW50ZXJhY3Rpb25Db250cm9sbGVkLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBwYXNzaXZlT3B0aW9uID0gc3JjX21ha2VQYXNzaXZlRXZlbnRPcHRpb24oZmFsc2UpO1xuICAgICAgdGhpcy5nZXRDb250YWluZXJOb2RlKCkuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLm9uV2hlZWwsIHBhc3NpdmVPcHRpb24pO1xuICAgICAgLypcbiAgICAgICAgU2V0dXAgZXZlbnRzIGZvciB0aGUgZ2VzdHVyZSBsaWZlY3ljbGU6IHN0YXJ0LCBtb3ZlLCBlbmQgdG91Y2hcbiAgICAgICovXG4gICAgICAvLyBzdGFydCBnZXN0dXJlXG5cbiAgICAgIHRoaXMuZ2V0Q29udGFpbmVyTm9kZSgpLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydCwgcGFzc2l2ZU9wdGlvbik7XG4gICAgICB0aGlzLmdldENvbnRhaW5lck5vZGUoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duLCBwYXNzaXZlT3B0aW9uKTsgLy8gbW92ZSBnZXN0dXJlXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLCBwYXNzaXZlT3B0aW9uKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlLCBwYXNzaXZlT3B0aW9uKTsgLy8gZW5kIGdlc3R1cmVcblxuICAgICAgdmFyIHRvdWNoQW5kTW91c2VFbmRPcHRpb25zID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgIH0sIHBhc3NpdmVPcHRpb24pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQsIHRvdWNoQW5kTW91c2VFbmRPcHRpb25zKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXAsIHRvdWNoQW5kTW91c2VFbmRPcHRpb25zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICB0aGlzLmdldENvbnRhaW5lck5vZGUoKS5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25XaGVlbCk7IC8vIFJlbW92ZSB0b3VjaCBldmVudHNcblxuICAgICAgdGhpcy5nZXRDb250YWluZXJOb2RlKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0KTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZCk7IC8vIFJlbW92ZSBtb3VzZSBldmVudHNcblxuICAgICAgdGhpcy5nZXRDb250YWluZXJOb2RlKCkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bik7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwKTtcbiAgICB9XG4gICAgLypcbiAgICAgIEV2ZW50IGhhbmRsZXJzXG4gICAgICAgQWxsIHRvdWNoL21vdXNlIGhhbmRsZXJzIHByZXZlbnREZWZhdWx0IGJlY2F1c2Ugd2UgYWRkXG4gICAgICBib3RoIHRvdWNoIGFuZCBtb3VzZSBoYW5kbGVycyBpbiB0aGUgc2FtZSBzZXNzaW9uIHRvIHN1cHBvcnQgZGV2aWNzZVxuICAgICAgd2l0aCBib3RoIHRvdWNoIHNjcmVlbiBhbmQgbW91c2UgaW5wdXRzLiBUaGUgYnJvd3NlciBtYXkgZmlyZSBib3RoXG4gICAgICBhIHRvdWNoIGFuZCBtb3VzZSBldmVudCBmb3IgYSAqc2luZ2xlKiB1c2VyIGFjdGlvbiwgc28gd2UgaGF2ZSB0byBlbnN1cmVcbiAgICAgIHRoYXQgb25seSBvbmUgaGFuZGxlciBpcyB1c2VkIGJ5IGNhbmNlbGluZyB0aGUgZXZlbnQgaW4gdGhlIGZpcnN0IGhhbmRsZXIuXG4gICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoX2V2ZW50cy9TdXBwb3J0aW5nX2JvdGhfVG91Y2hFdmVudF9hbmRfTW91c2VFdmVudFxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlRG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnNldFBvaW50ZXJTdGF0ZShbZV0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblRvdWNoU3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2V0UG9pbnRlclN0YXRlKGUudG91Y2hlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VVcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlVXAoZSkge1xuICAgICAgdGhpcy5zZXRQb2ludGVyU3RhdGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Ub3VjaEVuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblRvdWNoRW5kKGUpIHtcbiAgICAgIHRoaXMuc2V0UG9pbnRlclN0YXRlKGUudG91Y2hlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHtcbiAgICAgIGlmICghdGhpcy5zdGFydFBvaW50ZXJJbmZvIHx8IHRoaXMucHJvcHMuZGlzYWJsZVBhbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMub25EcmFnKGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblRvdWNoTW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblRvdWNoTW92ZShlKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhcnRQb2ludGVySW5mbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZGlzYWJsZVBhbiA9IF90aGlzJHByb3BzLmRpc2FibGVQYW4sXG4gICAgICAgICAgZGlzYWJsZVpvb20gPSBfdGhpcyRwcm9wcy5kaXNhYmxlWm9vbTtcbiAgICAgIHZhciBpc1BpbmNoQWN0aW9uID0gZS50b3VjaGVzLmxlbmd0aCA9PSAyICYmIHRoaXMuc3RhcnRQb2ludGVySW5mby5wb2ludGVycy5sZW5ndGggPiAxO1xuXG4gICAgICBpZiAoaXNQaW5jaEFjdGlvbiAmJiAhZGlzYWJsZVpvb20pIHtcbiAgICAgICAgdGhpcy5zY2FsZUZyb21NdWx0aVRvdWNoKGUpO1xuICAgICAgfSBlbHNlIGlmIChlLnRvdWNoZXMubGVuZ3RoID09PSAxICYmIHRoaXMuc3RhcnRQb2ludGVySW5mbyAmJiAhZGlzYWJsZVBhbikge1xuICAgICAgICB0aGlzLm9uRHJhZyhlLnRvdWNoZXNbMF0pO1xuICAgICAgfVxuICAgIH0gLy8gaGFuZGxlcyBib3RoIHRvdWNoIGFuZCBtb3VzZSBkcmFnc1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25EcmFnXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRHJhZyhwb2ludGVyKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHN0YXJ0UG9pbnRlckluZiA9IHRoaXMuc3RhcnRQb2ludGVySW5mbyxcbiAgICAgICAgICB0cmFuc2xhdGlvbiA9IF90aGlzJHN0YXJ0UG9pbnRlckluZi50cmFuc2xhdGlvbixcbiAgICAgICAgICBwb2ludGVycyA9IF90aGlzJHN0YXJ0UG9pbnRlckluZi5wb2ludGVycztcbiAgICAgIHZhciBzdGFydFBvaW50ZXIgPSBwb2ludGVyc1swXTtcbiAgICAgIHZhciBkcmFnWCA9IHBvaW50ZXIuY2xpZW50WCAtIHN0YXJ0UG9pbnRlci5jbGllbnRYO1xuICAgICAgdmFyIGRyYWdZID0gcG9pbnRlci5jbGllbnRZIC0gc3RhcnRQb2ludGVyLmNsaWVudFk7XG4gICAgICB2YXIgbmV3VHJhbnNsYXRpb24gPSB7XG4gICAgICAgIHg6IHRyYW5zbGF0aW9uLnggKyBkcmFnWCxcbiAgICAgICAgeTogdHJhbnNsYXRpb24ueSArIGRyYWdZXG4gICAgICB9O1xuICAgICAgdmFyIHNob3VsZFByZXZlbnRUb3VjaEVuZERlZmF1bHQgPSBNYXRoLmFicyhkcmFnWCkgPiAxIHx8IE1hdGguYWJzKGRyYWdZKSA+IDE7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvdWxkUHJldmVudFRvdWNoRW5kRGVmYXVsdDogc2hvdWxkUHJldmVudFRvdWNoRW5kRGVmYXVsdFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICAgIHNjYWxlOiBfdGhpczIucHJvcHMudmFsdWUuc2NhbGUsXG4gICAgICAgICAgdHJhbnNsYXRpb246IF90aGlzMi5jbGFtcFRyYW5zbGF0aW9uKG5ld1RyYW5zbGF0aW9uKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbldoZWVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uV2hlZWwoZSkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVpvb20pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdmFyIHNjYWxlQ2hhbmdlID0gTWF0aC5wb3coMiwgZS5kZWx0YVkgKiAwLjAwMik7XG4gICAgICB2YXIgbmV3U2NhbGUgPSBjbGFtcCh0aGlzLnByb3BzLm1pblNjYWxlLCB0aGlzLnByb3BzLnZhbHVlLnNjYWxlICsgKDEgLSBzY2FsZUNoYW5nZSksIHRoaXMucHJvcHMubWF4U2NhbGUpO1xuICAgICAgdmFyIG1vdXNlUG9zID0gdGhpcy5jbGllbnRQb3NUb1RyYW5zbGF0ZWRQb3Moe1xuICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgIHk6IGUuY2xpZW50WVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNjYWxlRnJvbVBvaW50KG5ld1NjYWxlLCBtb3VzZVBvcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFBvaW50ZXJTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQb2ludGVyU3RhdGUocG9pbnRlcnMpIHtcbiAgICAgIGlmICghcG9pbnRlcnMgfHwgcG9pbnRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuc3RhcnRQb2ludGVySW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXJ0UG9pbnRlckluZm8gPSB7XG4gICAgICAgIHBvaW50ZXJzOiBwb2ludGVycyxcbiAgICAgICAgc2NhbGU6IHRoaXMucHJvcHMudmFsdWUuc2NhbGUsXG4gICAgICAgIHRyYW5zbGF0aW9uOiB0aGlzLnByb3BzLnZhbHVlLnRyYW5zbGF0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGFtcFRyYW5zbGF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsYW1wVHJhbnNsYXRpb24oZGVzaXJlZFRyYW5zbGF0aW9uKSB7XG4gICAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMucHJvcHM7XG4gICAgICB2YXIgeCA9IGRlc2lyZWRUcmFuc2xhdGlvbi54LFxuICAgICAgICAgIHkgPSBkZXNpcmVkVHJhbnNsYXRpb24ueTtcbiAgICAgIHZhciBfcHJvcHMkdHJhbnNsYXRpb25Cb3UgPSBwcm9wcy50cmFuc2xhdGlvbkJvdW5kcyxcbiAgICAgICAgICB4TWF4ID0gX3Byb3BzJHRyYW5zbGF0aW9uQm91LnhNYXgsXG4gICAgICAgICAgeE1pbiA9IF9wcm9wcyR0cmFuc2xhdGlvbkJvdS54TWluLFxuICAgICAgICAgIHlNYXggPSBfcHJvcHMkdHJhbnNsYXRpb25Cb3UueU1heCxcbiAgICAgICAgICB5TWluID0gX3Byb3BzJHRyYW5zbGF0aW9uQm91LnlNaW47XG4gICAgICB4TWluID0geE1pbiAhPSB1bmRlZmluZWQgPyB4TWluIDogLUluZmluaXR5O1xuICAgICAgeU1pbiA9IHlNaW4gIT0gdW5kZWZpbmVkID8geU1pbiA6IC1JbmZpbml0eTtcbiAgICAgIHhNYXggPSB4TWF4ICE9IHVuZGVmaW5lZCA/IHhNYXggOiBJbmZpbml0eTtcbiAgICAgIHlNYXggPSB5TWF4ICE9IHVuZGVmaW5lZCA/IHlNYXggOiBJbmZpbml0eTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IGNsYW1wKHhNaW4sIHgsIHhNYXgpLFxuICAgICAgICB5OiBjbGFtcCh5TWluLCB5LCB5TWF4KVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidHJhbnNsYXRlZE9yaWdpblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2xhdGVkT3JpZ2luKCkge1xuICAgICAgdmFyIHRyYW5zbGF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzLnZhbHVlLnRyYW5zbGF0aW9uO1xuICAgICAgdmFyIGNsaWVudE9mZnNldCA9IHRoaXMuZ2V0Q29udGFpbmVyQm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBjbGllbnRPZmZzZXQubGVmdCArIHRyYW5zbGF0aW9uLngsXG4gICAgICAgIHk6IGNsaWVudE9mZnNldC50b3AgKyB0cmFuc2xhdGlvbi55XG4gICAgICB9O1xuICAgIH0gLy8gRnJvbSBhIGdpdmVuIHNjcmVlbiBwb2ludCByZXR1cm4gaXQgYXMgYSBwb2ludFxuICAgIC8vIGluIHRoZSBjb29yZGluYXRlIHN5c3RlbSBvZiB0aGUgZ2l2ZW4gdHJhbnNsYXRpb25cblxuICB9LCB7XG4gICAga2V5OiBcImNsaWVudFBvc1RvVHJhbnNsYXRlZFBvc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGllbnRQb3NUb1RyYW5zbGF0ZWRQb3MoX3JlZikge1xuICAgICAgdmFyIHggPSBfcmVmLngsXG4gICAgICAgICAgeSA9IF9yZWYueTtcbiAgICAgIHZhciB0cmFuc2xhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5wcm9wcy52YWx1ZS50cmFuc2xhdGlvbjtcbiAgICAgIHZhciBvcmlnaW4gPSB0aGlzLnRyYW5zbGF0ZWRPcmlnaW4odHJhbnNsYXRpb24pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCAtIG9yaWdpbi54LFxuICAgICAgICB5OiB5IC0gb3JpZ2luLnlcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNjYWxlRnJvbVBvaW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjYWxlRnJvbVBvaW50KG5ld1NjYWxlLCBmb2NhbFB0KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMkdmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlLFxuICAgICAgICAgIHRyYW5zbGF0aW9uID0gX3RoaXMkcHJvcHMkdmFsdWUudHJhbnNsYXRpb24sXG4gICAgICAgICAgc2NhbGUgPSBfdGhpcyRwcm9wcyR2YWx1ZS5zY2FsZTtcbiAgICAgIHZhciBzY2FsZVJhdGlvID0gbmV3U2NhbGUgLyAoc2NhbGUgIT0gMCA/IHNjYWxlIDogMSk7XG4gICAgICB2YXIgZm9jYWxQdERlbHRhID0ge1xuICAgICAgICB4OiBjb29yZENoYW5nZShmb2NhbFB0LngsIHNjYWxlUmF0aW8pLFxuICAgICAgICB5OiBjb29yZENoYW5nZShmb2NhbFB0LnksIHNjYWxlUmF0aW8pXG4gICAgICB9O1xuICAgICAgdmFyIG5ld1RyYW5zbGF0aW9uID0ge1xuICAgICAgICB4OiB0cmFuc2xhdGlvbi54IC0gZm9jYWxQdERlbHRhLngsXG4gICAgICAgIHk6IHRyYW5zbGF0aW9uLnkgLSBmb2NhbFB0RGVsdGEueVxuICAgICAgfTtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICBzY2FsZTogbmV3U2NhbGUsXG4gICAgICAgIHRyYW5zbGF0aW9uOiB0aGlzLmNsYW1wVHJhbnNsYXRpb24obmV3VHJhbnNsYXRpb24pXG4gICAgICB9KTtcbiAgICB9IC8vIEdpdmVuIHRoZSBzdGFydCB0b3VjaGVzIGFuZCBuZXcgZS50b3VjaGVzLCBzY2FsZSBhbmQgdHJhbnNsYXRlXG4gICAgLy8gc3VjaCB0aGF0IHRoZSBpbml0aWFsIG1pZHBvaW50IHJlbWFpbnMgYXMgdGhlIG5ldyBtaWRwb2ludC4gVGhpcyBpc1xuICAgIC8vIHRvIGFjaGlldmUgdGhlIGVmZmVjdCBvZiBrZWVwaW5nIHRoZSBjb250ZW50IHRoYXQgd2FzIGRpcmVjdGx5XG4gICAgLy8gaW4gdGhlIG1pZGRsZSBvZiB0aGUgdHdvIGZpbmdlcnMgYXMgdGhlIGZvY2FsIHBvaW50IHRocm91Z2hvdXQgdGhlIHpvb20uXG5cbiAgfSwge1xuICAgIGtleTogXCJzY2FsZUZyb21NdWx0aVRvdWNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjYWxlRnJvbU11bHRpVG91Y2goZSkge1xuICAgICAgdmFyIHN0YXJ0VG91Y2hlcyA9IHRoaXMuc3RhcnRQb2ludGVySW5mby5wb2ludGVycztcbiAgICAgIHZhciBuZXdUb3VjaGVzID0gZS50b3VjaGVzOyAvLyBjYWxjdWxhdGUgbmV3IHNjYWxlXG5cbiAgICAgIHZhciBkaXN0MCA9IHRvdWNoRGlzdGFuY2Uoc3RhcnRUb3VjaGVzWzBdLCBzdGFydFRvdWNoZXNbMV0pO1xuICAgICAgdmFyIGRpc3QxID0gdG91Y2hEaXN0YW5jZShuZXdUb3VjaGVzWzBdLCBuZXdUb3VjaGVzWzFdKTtcbiAgICAgIHZhciBzY2FsZUNoYW5nZSA9IGRpc3QxIC8gZGlzdDA7XG4gICAgICB2YXIgc3RhcnRTY2FsZSA9IHRoaXMuc3RhcnRQb2ludGVySW5mby5zY2FsZTtcbiAgICAgIHZhciB0YXJnZXRTY2FsZSA9IHN0YXJ0U2NhbGUgKyAoc2NhbGVDaGFuZ2UgLSAxKSAqIHN0YXJ0U2NhbGU7XG4gICAgICB2YXIgbmV3U2NhbGUgPSBjbGFtcCh0aGlzLnByb3BzLm1pblNjYWxlLCB0YXJnZXRTY2FsZSwgdGhpcy5wcm9wcy5tYXhTY2FsZSk7IC8vIGNhbGN1bGF0ZSBtaWQgcG9pbnRzXG5cbiAgICAgIHZhciBzdGFydE1pZHBvaW50ID0gbWlkcG9pbnQodG91Y2hQdChzdGFydFRvdWNoZXNbMF0pLCB0b3VjaFB0KHN0YXJ0VG91Y2hlc1sxXSkpO1xuICAgICAgdmFyIG5ld01pZFBvaW50ID0gbWlkcG9pbnQodG91Y2hQdChuZXdUb3VjaGVzWzBdKSwgdG91Y2hQdChuZXdUb3VjaGVzWzFdKSk7IC8vIFRoZSBhbW91bnQgd2UgbmVlZCB0byB0cmFuc2xhdGUgYnkgaW4gb3JkZXIgZm9yXG4gICAgICAvLyB0aGUgbWlkIHBvaW50IHRvIHN0YXkgaW4gdGhlIG1pZGRsZSAoYmVmb3JlIHRoaW5raW5nIGFib3V0IHNjYWxpbmcgZmFjdG9yKVxuXG4gICAgICB2YXIgZHJhZ0RlbHRhID0ge1xuICAgICAgICB4OiBuZXdNaWRQb2ludC54IC0gc3RhcnRNaWRwb2ludC54LFxuICAgICAgICB5OiBuZXdNaWRQb2ludC55IC0gc3RhcnRNaWRwb2ludC55XG4gICAgICB9O1xuICAgICAgdmFyIHNjYWxlUmF0aW8gPSBuZXdTY2FsZSAvIHN0YXJ0U2NhbGU7IC8vIFRoZSBwb2ludCBvcmlnaW5hbGx5IGluIHRoZSBtaWRkbGUgb2YgdGhlIGZpbmdlcnMgb24gdGhlIGluaXRpYWwgem9vbSBzdGFydFxuXG4gICAgICB2YXIgZm9jYWxQdCA9IHRoaXMuY2xpZW50UG9zVG9UcmFuc2xhdGVkUG9zKHN0YXJ0TWlkcG9pbnQsIHRoaXMuc3RhcnRQb2ludGVySW5mby50cmFuc2xhdGlvbik7IC8vIFRoZSBhbW91bnQgdGhhdCB0aGUgbWlkZGxlIHBvaW50IGhhcyBjaGFuZ2VkIGZyb20gdGhpcyBzY2FsaW5nXG5cbiAgICAgIHZhciBmb2NhbFB0RGVsdGEgPSB7XG4gICAgICAgIHg6IGNvb3JkQ2hhbmdlKGZvY2FsUHQueCwgc2NhbGVSYXRpbyksXG4gICAgICAgIHk6IGNvb3JkQ2hhbmdlKGZvY2FsUHQueSwgc2NhbGVSYXRpbylcbiAgICAgIH07IC8vIFRyYW5zbGF0aW9uIGlzIHRoZSBvcmlnaW5hbCB0cmFuc2xhdGlvbiwgcGx1cyB0aGUgYW1vdW50IHdlIGRyYWdnZWQsXG4gICAgICAvLyBtaW51cyB3aGF0IHRoZSBzY2FsaW5nIHdpbGwgZG8gdG8gdGhlIGZvY2FsIHBvaW50LiBTdWJ0cmFjdGluZyB0aGVcbiAgICAgIC8vIHNjYWxpbmcgZmFjdG9yIGtlZXBzIHRoZSBtaWRwb2ludCBpbiB0aGUgbWlkZGxlIG9mIHRoZSB0b3VjaCBwb2ludHMuXG5cbiAgICAgIHZhciBuZXdUcmFuc2xhdGlvbiA9IHtcbiAgICAgICAgeDogdGhpcy5zdGFydFBvaW50ZXJJbmZvLnRyYW5zbGF0aW9uLnggLSBmb2NhbFB0RGVsdGEueCArIGRyYWdEZWx0YS54LFxuICAgICAgICB5OiB0aGlzLnN0YXJ0UG9pbnRlckluZm8udHJhbnNsYXRpb24ueSAtIGZvY2FsUHREZWx0YS55ICsgZHJhZ0RlbHRhLnlcbiAgICAgIH07XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgc2NhbGU6IG5ld1NjYWxlLFxuICAgICAgICB0cmFuc2xhdGlvbjogdGhpcy5jbGFtcFRyYW5zbGF0aW9uKG5ld1RyYW5zbGF0aW9uKVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpc2NyZXRlU2NhbGVTdGVwU2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjcmV0ZVNjYWxlU3RlcFNpemUoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBtaW5TY2FsZSA9IF90aGlzJHByb3BzMi5taW5TY2FsZSxcbiAgICAgICAgICBtYXhTY2FsZSA9IF90aGlzJHByb3BzMi5tYXhTY2FsZTtcbiAgICAgIHZhciBkZWx0YSA9IE1hdGguYWJzKG1heFNjYWxlIC0gbWluU2NhbGUpO1xuICAgICAgcmV0dXJuIGRlbHRhIC8gMTA7XG4gICAgfSAvLyBTY2FsZSB1c2luZyB0aGUgY2VudGVyIG9mIHRoZSBjb250ZW50IGFzIGEgZm9jYWwgcG9pbnRcblxuICB9LCB7XG4gICAga2V5OiBcImNoYW5nZVNjYWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVNjYWxlKGRlbHRhKSB7XG4gICAgICB2YXIgdGFyZ2V0U2NhbGUgPSB0aGlzLnByb3BzLnZhbHVlLnNjYWxlICsgZGVsdGE7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBtaW5TY2FsZSA9IF90aGlzJHByb3BzMy5taW5TY2FsZSxcbiAgICAgICAgICBtYXhTY2FsZSA9IF90aGlzJHByb3BzMy5tYXhTY2FsZTtcbiAgICAgIHZhciBzY2FsZSA9IGNsYW1wKG1pblNjYWxlLCB0YXJnZXRTY2FsZSwgbWF4U2NhbGUpO1xuICAgICAgdmFyIHJlY3QgPSB0aGlzLmdldENvbnRhaW5lckJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIHggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMjtcbiAgICAgIHZhciB5ID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XG4gICAgICB2YXIgZm9jYWxQb2ludCA9IHRoaXMuY2xpZW50UG9zVG9UcmFuc2xhdGVkUG9zKHtcbiAgICAgICAgeDogeCxcbiAgICAgICAgeTogeVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNjYWxlRnJvbVBvaW50KHNjYWxlLCBmb2NhbFBvaW50KTtcbiAgICB9IC8vIERvbmUgbGlrZSB0aGlzIHNvIGl0IGlzIG1vY2thYmxlXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb250YWluZXJOb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRhaW5lck5vZGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250YWluZXJOb2RlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb250YWluZXJCb3VuZGluZ0NsaWVudFJlY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29udGFpbmVyQm91bmRpbmdDbGllbnRSZWN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29udGFpbmVyTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJDb250cm9sc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJDb250cm9scygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgc3RlcCA9IHRoaXMuZGlzY3JldGVTY2FsZVN0ZXBTaXplKCk7XG4gICAgICByZXR1cm4gZXh0ZXJuYWxfY29tbW9uanNfcmVhY3RfY29tbW9uanMyX3JlYWN0X2FtZF9SZWFjdF9yb290X1JlYWN0X2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KHNyY19Db250cm9scywge1xuICAgICAgICBvbkNsaWNrUGx1czogZnVuY3Rpb24gb25DbGlja1BsdXMoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5jaGFuZ2VTY2FsZShzdGVwKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DbGlja01pbnVzOiBmdW5jdGlvbiBvbkNsaWNrTWludXMoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5jaGFuZ2VTY2FsZSgtc3RlcCk7XG4gICAgICAgIH0sXG4gICAgICAgIHBsdXNCdG5Db250ZW50czogdGhpcy5wcm9wcy5wbHVzQnRuQ29udGVudHMsXG4gICAgICAgIG1pbnVzQnRuQ29udGVudHM6IHRoaXMucHJvcHMubWludXNCdG5Db250ZW50cyxcbiAgICAgICAgYnRuQ2xhc3M6IHRoaXMucHJvcHMuYnRuQ2xhc3MsXG4gICAgICAgIHBsdXNCdG5DbGFzczogdGhpcy5wcm9wcy5wbHVzQnRuQ2xhc3MsXG4gICAgICAgIG1pbnVzQnRuQ2xhc3M6IHRoaXMucHJvcHMubWludXNCdG5DbGFzcyxcbiAgICAgICAgY29udHJvbHNDbGFzczogdGhpcy5wcm9wcy5jb250cm9sc0NsYXNzLFxuICAgICAgICBzY2FsZTogdGhpcy5wcm9wcy52YWx1ZS5zY2FsZSxcbiAgICAgICAgbWluU2NhbGU6IHRoaXMucHJvcHMubWluU2NhbGUsXG4gICAgICAgIG1heFNjYWxlOiB0aGlzLnByb3BzLm1heFNjYWxlLFxuICAgICAgICBkaXNhYmxlWm9vbTogdGhpcy5wcm9wcy5kaXNhYmxlWm9vbVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc2hvd0NvbnRyb2xzID0gX3RoaXMkcHJvcHM0LnNob3dDb250cm9scyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzNC5jaGlsZHJlbjtcbiAgICAgIHZhciBzY2FsZSA9IHRoaXMucHJvcHMudmFsdWUuc2NhbGU7IC8vIERlZmVuc2l2ZWx5IGNsYW1wIHRoZSB0cmFuc2xhdGlvbi4gVGhpcyBzaG91bGQgbm90IGJlIG5lY2Vzc2FyeSBpZiB3ZSBwcm9wZXJseSBzZXQgc3RhdGUgZWxzZXdoZXJlLlxuXG4gICAgICB2YXIgdHJhbnNsYXRpb24gPSB0aGlzLmNsYW1wVHJhbnNsYXRpb24odGhpcy5wcm9wcy52YWx1ZS50cmFuc2xhdGlvbik7XG4gICAgICAvKlxuICAgICAgICBUaGlzIGlzIGEgbGl0dGxlIHRyaWNrIHRvIGFsbG93IHRoZSBmb2xsb3dpbmcgdXg6IFdlIHdhbnQgdGhlIHBhcmVudCBvZiB0aGlzXG4gICAgICAgIGNvbXBvbmVudCB0byBkZWNpZGUgaWYgZWxlbWVudHMgaW5zaWRlIHRoZSBtYXAgYXJlIGNsaWNrYWJsZS4gTm9ybWFsbHksIHlvdSB3b3VsZG4ndFxuICAgICAgICB3YW50IHRvIHRyaWdnZXIgYSBjbGljayBldmVudCB3aGVuIHRoZSB1c2VyICpkcmFncyogb24gYW4gZWxlbWVudCAob25seSBpZiB0aGV5IGNsaWNrXG4gICAgICAgIGFuZCB0aGVuIHJlbGVhc2Ugdy9vIGRyYWdnaW5nIGF0IGFsbCkuIEhvd2V2ZXIgd2UgZG9uJ3Qgd2FudCB0byBhc3N1bWUgdGhpc1xuICAgICAgICBiZWhhdmlvciBoZXJlLCBzbyB3ZSBjYWxsIGBwcmV2ZW50RGVmYXVsdGAgYW5kIHRoZW4gbGV0IHRoZSBwYXJlbnQgY2hlY2tcbiAgICAgICAgYGUuZGVmYXVsdFByZXZlbnRlZGAuIFRoYXQgdmFsdWUgYmVpbmcgdHJ1ZSBtZWFucyB0aGF0IHdlIGFyZSBzaWduYWxsaW5nIHRoYXRcbiAgICAgICAgYSBkcmFnIGV2ZW50IGVuZGVkLCBub3QgYSBjbGljay5cbiAgICAgICovXG5cbiAgICAgIHZhciBoYW5kbGVFdmVudENhcHR1cmUgPSBmdW5jdGlvbiBoYW5kbGVFdmVudENhcHR1cmUoZSkge1xuICAgICAgICBpZiAoX3RoaXM0LnN0YXRlLnNob3VsZFByZXZlbnRUb3VjaEVuZERlZmF1bHQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2hvdWxkUHJldmVudFRvdWNoRW5kRGVmYXVsdDogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGV4dGVybmFsX2NvbW1vbmpzX3JlYWN0X2NvbW1vbmpzMl9yZWFjdF9hbWRfUmVhY3Rfcm9vdF9SZWFjdF9kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcbiAgICAgICAgICBfdGhpczQuY29udGFpbmVyTm9kZSA9IG5vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAvLyBmb3IgYWJzb2x1dGVseSBwb3NpdGlvbmVkIGNoaWxkcmVuXG4gICAgICAgICAgdG91Y2hBY3Rpb246ICdub25lJ1xuICAgICAgICB9LFxuICAgICAgICBvbkNsaWNrQ2FwdHVyZTogaGFuZGxlRXZlbnRDYXB0dXJlLFxuICAgICAgICBvblRvdWNoRW5kQ2FwdHVyZTogaGFuZGxlRXZlbnRDYXB0dXJlXG4gICAgICB9LCAoY2hpbGRyZW4gfHwgdW5kZWZpbmVkKSAmJiBjaGlsZHJlbih7XG4gICAgICAgIHRyYW5zbGF0aW9uOiB0cmFuc2xhdGlvbixcbiAgICAgICAgc2NhbGU6IHNjYWxlXG4gICAgICB9KSwgKHNob3dDb250cm9scyB8fCB1bmRlZmluZWQpICYmIHRoaXMucmVuZGVyQ29udHJvbHMoKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1hcEludGVyYWN0aW9uQ29udHJvbGxlZDtcbn0oZXh0ZXJuYWxfY29tbW9uanNfcmVhY3RfY29tbW9uanMyX3JlYWN0X2FtZF9SZWFjdF9yb290X1JlYWN0X1tcIkNvbXBvbmVudFwiXSk7XG4vKlxuICBNYWluIGVudHJ5IHBvaW50IGNvbXBvbmVudC5cbiAgRGV0ZXJtaW5lcyBpZiBpdCdzIHBhcmVudCBpcyBjb250cm9sbGluZyAoZWcgaXQgbWFuYWdlcyBzdGF0ZSkgb3IgbGVhdmluZyB1cyB1bmNvbnRyb2xsZWRcbiAgKGVnIHdlIG1hbmFnZSBvdXIgb3duIGludGVybmFsIHN0YXRlKVxuKi9cblxudmFyIE1hcEludGVyYWN0aW9uX01hcEludGVyYWN0aW9uQ29udHJvbGxlciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0NvbXBvbmVudDIpIHtcbiAgTWFwSW50ZXJhY3Rpb25faW5oZXJpdHMoTWFwSW50ZXJhY3Rpb25Db250cm9sbGVyLCBfQ29tcG9uZW50Mik7XG5cbiAgTWFwSW50ZXJhY3Rpb25fY3JlYXRlQ2xhc3MoTWFwSW50ZXJhY3Rpb25Db250cm9sbGVyLCBudWxsLCBbe1xuICAgIGtleTogXCJwcm9wVHlwZXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5mdW5jLFxuICAgICAgICB2YWx1ZTogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEuc2hhcGUoe1xuICAgICAgICAgIHNjYWxlOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICB0cmFuc2xhdGlvbjogdHJhbnNsYXRpb25TaGFwZS5pc1JlcXVpcmVkXG4gICAgICAgIH0pLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLnNoYXBlKHtcbiAgICAgICAgICBzY2FsZTogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgdHJhbnNsYXRpb246IHRyYW5zbGF0aW9uU2hhcGUuaXNSZXF1aXJlZFxuICAgICAgICB9KSxcbiAgICAgICAgZGlzYWJsZVpvb206IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLmJvb2wsXG4gICAgICAgIGRpc2FibGVQYW46IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLmJvb2wsXG4gICAgICAgIG9uQ2hhbmdlOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5mdW5jLFxuICAgICAgICB0cmFuc2xhdGlvbkJvdW5kczogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEuc2hhcGUoe1xuICAgICAgICAgIHhNaW46IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLm51bWJlcixcbiAgICAgICAgICB4TWF4OiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5udW1iZXIsXG4gICAgICAgICAgeU1pbjogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEubnVtYmVyLFxuICAgICAgICAgIHlNYXg6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLm51bWJlclxuICAgICAgICB9KSxcbiAgICAgICAgbWluU2NhbGU6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLm51bWJlcixcbiAgICAgICAgbWF4U2NhbGU6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLm51bWJlcixcbiAgICAgICAgc2hvd0NvbnRyb2xzOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5ib29sLFxuICAgICAgICBwbHVzQnRuQ29udGVudHM6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLm5vZGUsXG4gICAgICAgIG1pbnVzQnRuQ29udGVudHM6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLm5vZGUsXG4gICAgICAgIGJ0bkNsYXNzOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5zdHJpbmcsXG4gICAgICAgIHBsdXNCdG5DbGFzczogZXh0ZXJuYWxfY29tbW9uanNfcHJvcF90eXBlc19jb21tb25qczJfcHJvcF90eXBlc19jb21tb25qMnNfcHJvcF90eXBlc19hbWRfcHJvcF90eXBlc19yb290X1Byb3BUeXBlc19kZWZhdWx0LmEuc3RyaW5nLFxuICAgICAgICBtaW51c0J0bkNsYXNzOiBleHRlcm5hbF9jb21tb25qc19wcm9wX3R5cGVzX2NvbW1vbmpzMl9wcm9wX3R5cGVzX2NvbW1vbmoyc19wcm9wX3R5cGVzX2FtZF9wcm9wX3R5cGVzX3Jvb3RfUHJvcFR5cGVzX2RlZmF1bHQuYS5zdHJpbmcsXG4gICAgICAgIGNvbnRyb2xzQ2xhc3M6IGV4dGVybmFsX2NvbW1vbmpzX3Byb3BfdHlwZXNfY29tbW9uanMyX3Byb3BfdHlwZXNfY29tbW9uajJzX3Byb3BfdHlwZXNfYW1kX3Byb3BfdHlwZXNfcm9vdF9Qcm9wVHlwZXNfZGVmYXVsdC5hLnN0cmluZ1xuICAgICAgfTtcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBNYXBJbnRlcmFjdGlvbkNvbnRyb2xsZXIocHJvcHMpIHtcbiAgICB2YXIgX3RoaXM1O1xuXG4gICAgTWFwSW50ZXJhY3Rpb25fY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFwSW50ZXJhY3Rpb25Db250cm9sbGVyKTtcblxuICAgIF90aGlzNSA9IE1hcEludGVyYWN0aW9uX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgTWFwSW50ZXJhY3Rpb25fZ2V0UHJvdG90eXBlT2YoTWFwSW50ZXJhY3Rpb25Db250cm9sbGVyKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gICAgdmFyIGNvbnRyb2xsZWQgPSBNYXBJbnRlcmFjdGlvbkNvbnRyb2xsZXIuaXNDb250cm9sbGVkKHByb3BzKTtcblxuICAgIGlmIChjb250cm9sbGVkKSB7XG4gICAgICBfdGhpczUuc3RhdGUgPSB7XG4gICAgICAgIGxhc3RLbm93blZhbHVlRnJvbVByb3BzOiBwcm9wcy52YWx1ZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2V0IHRoZSBuZWNlc3Nhcnkgc3RhdGUgZm9yIGNvbnRyb2xsaW5nIG1hcCBpbnRlcmFjdGlvbiBvdXJzZWx2ZXNcbiAgICAgIF90aGlzNS5zdGF0ZSA9IHtcbiAgICAgICAgdmFsdWU6IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCB7XG4gICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgdHJhbnNsYXRpb246IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsYXN0S25vd25WYWx1ZUZyb21Qcm9wczogdW5kZWZpbmVkXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpczU7XG4gIH1cbiAgLypcbiAgICBIYW5kbGUgdGhlIHBhcmVudCBzd2l0Y2hnIGZvcm0gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQgb3IgdmljZSB2ZXJzYS5cbiAgICBUaGlzIGlzIGF0IG1vc3QgYSBiZXN0LWVmZm9ydCBhdHRlbXB0LiBJdCBpcyBub3QgZ2F1cmFudGVlZCBieSBvdXIgQVBJXG4gICAgYnV0IGl0IHdpbGwgZG8gaXRzIGJlc3QgdG8gbWFpbnRhaW4gdGhlIHN0YXRlIHN1Y2ggdGhhdCBpZiB0aGUgcGFyZW50XG4gICAgYWNjaWRlbnRhbGx5IHN3aXRjaGVzIGJldHdlZW4gY29udHJvbGxlZC91bmNvbnRyb2xsZWQgdGhlcmUgd29uJ3QgYmVcbiAgICBhbnkgamFua2luZXNzIG9yIGp1bXBpbmVzcy5cbiAgICAgVGhpcyB0cmllcyB0byBtaW1pY2sgaG93IHRoZSBSZWFjdCA8aW5wdXQgLz4gY29tcG9uZW50IGJlaGF2ZXMuXG4gICovXG5cblxuICBNYXBJbnRlcmFjdGlvbl9jcmVhdGVDbGFzcyhNYXBJbnRlcmFjdGlvbkNvbnRyb2xsZXIsIFt7XG4gICAga2V5OiBcImlubmVyUHJvcHNcIixcbiAgICAvLyBUaGUgc3Vic2V0IG9mIHRoaXMgY29tcG9uZW50J3MgcHJvcHMgdGhhdCBuZWVkIHRvIGJlIHBhc3NlZFxuICAgIC8vIGRvd24gdG8gdGhlIGNvcmUgUk1JIGNvbXBvbmVudFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbm5lclByb3BzKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczUudmFsdWUsXG4gICAgICAgICAgZGVmYXVsdFZhbHVlID0gX3RoaXMkcHJvcHM1LmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICBvbkNoYW5nZSA9IF90aGlzJHByb3BzNS5vbkNoYW5nZSxcbiAgICAgICAgICBpbm5lclByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzNSwgW1widmFsdWVcIiwgXCJkZWZhdWx0VmFsdWVcIiwgXCJvbkNoYW5nZVwiXSk7XG5cbiAgICAgIHJldHVybiBpbm5lclByb3BzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRWYWx1ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcbiAgICAgIHZhciBjb250cm9sbGVkID0gTWFwSW50ZXJhY3Rpb25Db250cm9sbGVyLmlzQ29udHJvbGxlZCh0aGlzLnByb3BzKTtcbiAgICAgIHJldHVybiBjb250cm9sbGVkID8gdGhpcy5wcm9wcy52YWx1ZSA6IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHByb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgX29uQ2hhbmdlID0gX3RoaXMkcHJvcHM2Lm9uQ2hhbmdlLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHM2LmNoaWxkcmVuO1xuICAgICAgdmFyIGNvbnRyb2xsZWQgPSBNYXBJbnRlcmFjdGlvbkNvbnRyb2xsZXIuaXNDb250cm9sbGVkKHRoaXMucHJvcHMpO1xuICAgICAgdmFyIHZhbHVlID0gY29udHJvbGxlZCA/IHRoaXMucHJvcHMudmFsdWUgOiB0aGlzLnN0YXRlLnZhbHVlO1xuICAgICAgcmV0dXJuIGV4dGVybmFsX2NvbW1vbmpzX3JlYWN0X2NvbW1vbmpzMl9yZWFjdF9hbWRfUmVhY3Rfcm9vdF9SZWFjdF9kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChNYXBJbnRlcmFjdGlvbl9NYXBJbnRlcmFjdGlvbkNvbnRyb2xsZWQsIF9leHRlbmRzKHtcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbHVlKSB7XG4gICAgICAgICAgY29udHJvbGxlZCA/IF9vbkNoYW5nZSh2YWx1ZSkgOiBfdGhpczYuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSwgdGhpcy5pbm5lclByb3BzKCkpLCBjaGlsZHJlbik7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpIHtcbiAgICAgIHZhciBub3dDb250cm9sbGVkID0gTWFwSW50ZXJhY3Rpb25Db250cm9sbGVyLmlzQ29udHJvbGxlZChwcm9wcyk7XG4gICAgICB2YXIgd2FzQ29udHJvbGxlZCA9IHN0YXRlLmxhc3RLbm93blZhbHVlRnJvbVByb3BzICYmIE1hcEludGVyYWN0aW9uQ29udHJvbGxlci5pc0NvbnRyb2xsZWQoe1xuICAgICAgICB2YWx1ZTogc3RhdGUubGFzdEtub3duVmFsdWVGcm9tUHJvcHNcbiAgICAgIH0pO1xuICAgICAgLypcbiAgICAgICAgU3RhdGUgdHJhbnNpdGlvbnM6XG4gICAgICAgICAgdW5jb250cm9sbGVkIC0tPiBjb250cm9sbGVkICAgKHVuc2V0IGludGVybmFsIHN0YXRlLCBzZXQgbGFzdCBwcm9wcyBmcm9tIHBhcmVudClcbiAgICAgICAgICBjb250cm9sbGVkICAgLS0+IHVuY29udHJvbGxlZCAoc2V0IGludGVybmFsIHN0YXRlIHRvIGxhc3QgcHJvcHMgZnJvbSBwYXJlbnQpXG4gICAgICAgICAgY29udHJvbGxlZCAgIC0tPiBjb250cm9sbGVkICAgKHVwZGF0ZSBsYXN0IHByb3BzIGZyb20gcGFyZW50KVxuICAgICAgICAgIHVuY29udHJvbGxlZCAtLT4gdW5jb250cm9sbGVkIChkbyBub3RoaW5nKVxuICAgICAgICAgTm90ZSB0aGF0IHRoZSBzZWNvbmQgdHdvIChubyBjaGFuZ2UgaW4gY29udHJvbCkgd2lsbCBhbHNvIGhhcHBlbiBvbiB0aGVcbiAgICAgICAgaW5pdGlhbCByZW5kZXIgYmVjYXVzZSB3ZSBzZXQgbGFzdEtub3duVmFsdWVGcm9tUHJvcHMgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgKi9cblxuICAgICAgaWYgKCF3YXNDb250cm9sbGVkICYmIG5vd0NvbnRyb2xsZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgIGxhc3RLbm93blZhbHVlRnJvbVByb3BzOiBwcm9wcy52YWx1ZVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICh3YXNDb250cm9sbGVkICYmICFub3dDb250cm9sbGVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsdWU6IHN0YXRlLmxhc3RLbm93blZhbHVlRnJvbVByb3BzLFxuICAgICAgICAgIGxhc3RLbm93blZhbHVlRnJvbVByb3BzOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAod2FzQ29udHJvbGxlZCAmJiBub3dDb250cm9sbGVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGFzdEtub3duVmFsdWVGcm9tUHJvcHM6IHByb3BzLnZhbHVlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKCF3YXNDb250cm9sbGVkICYmICFub3dDb250cm9sbGVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0NvbnRyb2xsZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDb250cm9sbGVkKHByb3BzKSB7XG4gICAgICAvLyBTaW1pbGFyIHRvIFJlYWN0J3MgPGlucHV0IC8+IEFQSSwgc2V0dGluZyBhIHZhbHVlIGRlY2xhcmVzXG4gICAgICAvLyB0aGF0IHlvdSB3YW50IHRvIGNvbnRyb2wgdGhpcyBjb21wb25lbnQuXG4gICAgICByZXR1cm4gcHJvcHMudmFsdWUgIT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNYXBJbnRlcmFjdGlvbkNvbnRyb2xsZXI7XG59KGV4dGVybmFsX2NvbW1vbmpzX3JlYWN0X2NvbW1vbmpzMl9yZWFjdF9hbWRfUmVhY3Rfcm9vdF9SZWFjdF9bXCJDb21wb25lbnRcIl0pO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBNYXBJbnRlcmFjdGlvbiA9IChNYXBJbnRlcmFjdGlvbl9NYXBJbnRlcmFjdGlvbkNvbnRyb2xsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvTWFwSW50ZXJhY3Rpb25DU1MuanN4XG5cblxuLypcbiAgVGhpcyBjb21wb25lbnQgcHJvdmlkZXMgYSBtYXAgbGlrZSBpbnRlcmFjdGlvbiB0byBhbnkgY29udGVudCB0aGF0IHlvdSBwbGFjZSBpbiBpdC4gSXQgd2lsbCBsZXRcbiAgdGhlIHVzZXIgem9vbSBhbmQgcGFuIHRoZSBjaGlsZHJlbiBieSBzY2FsaW5nIGFuZCB0cmFuc2xhdGluZyBwcm9wcy5jaGlsZHJlbiB1c2luZyBjc3MuXG4qL1xuXG52YXIgTWFwSW50ZXJhY3Rpb25DU1NfTWFwSW50ZXJhY3Rpb25DU1MgPSBmdW5jdGlvbiBNYXBJbnRlcmFjdGlvbkNTUyhwcm9wcykge1xuICByZXR1cm4gZXh0ZXJuYWxfY29tbW9uanNfcmVhY3RfY29tbW9uanMyX3JlYWN0X2FtZF9SZWFjdF9yb290X1JlYWN0X2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KE1hcEludGVyYWN0aW9uLCBwcm9wcywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgdHJhbnNsYXRpb24gPSBfcmVmLnRyYW5zbGF0aW9uLFxuICAgICAgICBzY2FsZSA9IF9yZWYuc2NhbGU7XG4gICAgLy8gVHJhbnNsYXRlIGZpcnN0IGFuZCB0aGVuIHNjYWxlLiAgT3RoZXJ3aXNlLCB0aGUgc2NhbGUgd291bGQgYWZmZWN0IHRoZSB0cmFuc2xhdGlvbi5cbiAgICB2YXIgdHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHRyYW5zbGF0aW9uLngsIFwicHgsIFwiKS5jb25jYXQodHJhbnNsYXRpb24ueSwgXCJweCkgc2NhbGUoXCIpLmNvbmNhdChzY2FsZSwgXCIpXCIpO1xuICAgIHJldHVybiBleHRlcm5hbF9jb21tb25qc19yZWFjdF9jb21tb25qczJfcmVhY3RfYW1kX1JlYWN0X3Jvb3RfUmVhY3RfZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAvLyBmb3IgYWJzb2x1dGVseSBwb3NpdGlvbmVkIGNoaWxkcmVuXG4gICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgdG91Y2hBY3Rpb246ICdub25lJyxcbiAgICAgICAgLy8gTm90IHN1cHBvcnRlZCBpbiBTYWZhcmkgOihcbiAgICAgICAgbXNUb3VjaEFjdGlvbjogJ25vbmUnLFxuICAgICAgICBjdXJzb3I6ICdhbGwtc2Nyb2xsJyxcbiAgICAgICAgV2Via2l0VXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgICBNb3pVc2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAgIG1zVXNlclNlbGVjdDogJ25vbmUnXG4gICAgICB9XG4gICAgfSwgZXh0ZXJuYWxfY29tbW9uanNfcmVhY3RfY29tbW9uanMyX3JlYWN0X2FtZF9SZWFjdF9yb290X1JlYWN0X2RlZmF1bHQuYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICAvLyBzaXplIHRvIGNvbnRlbnRcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJzAgMCAnXG4gICAgICB9XG4gICAgfSwgcHJvcHMuY2hpbGRyZW4pKTtcbiAgfSk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBzcmNfTWFwSW50ZXJhY3Rpb25DU1MgPSAoTWFwSW50ZXJhY3Rpb25DU1NfTWFwSW50ZXJhY3Rpb25DU1MpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvaW5kZXguanNcbi8qIGNvbmNhdGVkIGhhcm1vbnkgcmVleHBvcnQgTWFwSW50ZXJhY3Rpb25DU1MgKi9fX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJNYXBJbnRlcmFjdGlvbkNTU1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNyY19NYXBJbnRlcmFjdGlvbkNTUzsgfSk7XG4vKiBjb25jYXRlZCBoYXJtb255IHJlZXhwb3J0IE1hcEludGVyYWN0aW9uICovX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTWFwSW50ZXJhY3Rpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBNYXBJbnRlcmFjdGlvbjsgfSk7XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBzcmMgPSBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChNYXBJbnRlcmFjdGlvbik7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-map-interaction/dist/react-map-interaction.js\n");

/***/ })

};
;