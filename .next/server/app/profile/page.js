(()=>{var e={};e.id=4178,e.ids=[4178],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},38894:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>x});var r=t(73137),i=t(54647),a=t(4183),l=t.n(a),n=t(71775),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=r.AppPageRouteModule,x=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,63165)),"/home/kapil/Desktop/adel social projects/adelsocial/app/profile/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,6610)),"/home/kapil/Desktop/adel social projects/adelsocial/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/kapil/Desktop/adel social projects/adelsocial/app/profile/page.js"],p="/profile/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new d({definition:{kind:i.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:x}})},84725:(e,s,t)=>{Promise.resolve().then(t.bind(t,61313))},61313:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>page});var r=t(60080);t(65437);var i=t(9885);let a={src:"/_next/static/media/profile.7e61da81.avif",height:447,width:626,blurDataURL:"data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAAKQAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAACAAIABoAAAAAMYXYxQ4EADAAAAAAUaXNwZQAAAAAAAAAIAAAABgAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEgYIDhAAAADFtZGF0EgAKBRgIvWBCMh4XAAAAQD1j72gttMWygJWaPu7sgU4diUra8HOhKIA=",blurWidth:8,blurHeight:6};var l=t(95843),n=t.n(l),o=t(16614),d=t.n(o),x=t(21971),c=t.n(x),p=t(43872),h=t.n(p),m=t(33987),u=t.n(m),A=t(39966),g=t.n(A),b=t(52451),f=t.n(b),j=t(48060),w=t.n(j),y=t(10413),C=t.n(y),P=t(52694),v=t.n(P),S=t(93258),_=t(57114),k=t(89440),D=t.n(k),I=t(73392),q=t.n(I),E=t(58386),R=t(45848);let components_ChangePassword=({passOpen:e,setPassOpen:s})=>{let[t,a]=(0,i.useState)({currPassword:"",newPassword:"",confPassword:"",first:!1,second:!1,third:!1}),handleCollect=e=>{let{name:s,value:r}=e.target;a({...t,[s]:r})},handleSubmit=async()=>{let e=await JSON.parse(localStorage.getItem("UID"));try{if(""!=t.confPassword&&""!=t.currPassword&&""!=t.newPassword&&t.newPassword==t.confPassword){let r=await S.Z.patch(`/api/changepassword/${e}`,{currPassword:t.currPassword,newPassword:t.newPassword});console.log("response data",r),"Password Changed Successfully"==r.data.message&&(alert(r.data.message),s(!1)),"Incorrect Password"==r.data.message&&alert(r.data.message),a({currPassword:"",newPassword:"",confPassword:""})}else alert("Please Check The Entered Data!")}catch(e){console.log(e),alert(e.message)}},handleHideShow=e=>{a({...t,[e]:!t[e]})};return r.jsx(r.Fragment,{children:r.jsx(D(),{open:e,onClose:()=>{s(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(v(),{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"white",p:4,bgcolor:"white"},children:[r.jsx(h(),{children:r.jsx(u(),{align:"center",sx:{fontSize:"17px",fontWeight:"800"},children:"Change Password"})}),r.jsx(h(),{sx:{marginTop:1,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,r.jsxs)(h(),{sx:{mt:1},children:[(0,r.jsxs)(c(),{container:!0,spacing:2,sx:{mr:"10px"},children:[(0,r.jsxs)(c(),{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[r.jsx(q(),{type:t.first?"text":"password",name:"currPassword",required:!0,fullWidth:!0,label:"Current Password",value:t.currPassword,onChange:handleCollect,sx:{border:"1px solid #bdbdbd",pl:"10px",borderRight:"none",height:"45px",borderRadius:"10px 0px 0px 10px"}}),r.jsx(h(),{sx:{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #bdbdbd",borderLeft:"none",height:"43.4px",borderRadius:"0px 10px 10px 0px",pr:"10px"},children:t.first?r.jsx(R.Z,{sx:{cursor:"pointer"},onClick:()=>{handleHideShow("first")}}):r.jsx(E.Z,{sx:{cursor:"pointer"},onClick:()=>{handleHideShow("first")}})})]}),(0,r.jsxs)(c(),{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[r.jsx(q(),{type:t.second?"text":"password",required:!0,fullWidth:!0,label:"New Password",name:"newPassword",value:t.newPassword,onChange:handleCollect,sx:{border:"1px solid #bdbdbd",pl:"10px",borderRight:"none",height:"45px",borderRadius:"10px 0px 0px 10px"}}),r.jsx(h(),{sx:{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #bdbdbd",borderLeft:"none",height:"43px",borderRadius:"0px 10px 10px 0px",pr:"10px"},children:t.second?r.jsx(R.Z,{sx:{cursor:"pointer"},onClick:()=>{handleHideShow("second")}}):r.jsx(E.Z,{sx:{cursor:"pointer"},onClick:()=>{handleHideShow("second")}})})]}),(0,r.jsxs)(c(),{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[r.jsx(q(),{type:t.third?"text":"password",required:!0,fullWidth:!0,label:"Confirm Password",name:"confPassword",value:t.confPassword,onChange:handleCollect,sx:{border:"1px solid #bdbdbd",pl:"10px",borderRight:"none",height:"45px",borderRadius:"10px 0px 0px 10px"}}),r.jsx(h(),{sx:{display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #bdbdbd",borderLeft:"none",height:"43px",borderRadius:"0px 10px 10px 0px",pr:"10px"},children:t.third?r.jsx(R.Z,{sx:{cursor:"pointer"},onClick:()=>{handleHideShow("third")}}):r.jsx(E.Z,{sx:{cursor:"pointer"},onClick:()=>{handleHideShow("third")}})})]})]}),r.jsx(d(),{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:handleSubmit,children:"Submit"})]})})]})})})};var W=t(99360),N=t.n(W),Z=t(92870),B=t.n(Z);let components_EditProfile=({openEdit:e,setOpenEdit:s,userData:t,fetchUserDetails:l,customSnack:n,setCustomSnack:o})=>{let[x,p]=(0,i.useState)({fullName:"",mobile:"",email:""}),[m,A]=(0,i.useState)({loading:!1,isDisabled:!0}),handleCollect=e=>{let{name:s,value:r}=e.target;console.log(r),p({...x,[s]:r}),r!=t[s]?A({...m,isDisabled:!1}):A({...m,isDisabled:!0})};(0,i.useEffect)(()=>{p({...x,fullName:t.fullName,mobile:t.mobile,email:t.email})},[t]);let handleSubmit=async()=>{A({...m,loading:!0});let e=await JSON.parse(localStorage.getItem("UID"));try{if(""!=x.fullName&&""!=x.mobile&&""!=x.email){let t=await S.Z.patch(`/api/editprofile/${e}`,{fullName:x.fullName,mobile:x.mobile,email:x.email});console.log("response data",t),"Profile Updated Successfully"==t.data.message&&(o({...n,open:!0,message:t.data.message}),l(),s(!1),A({...m,isDisabled:!0,loading:!1})),"Failed To Update Profile"==t.data.message&&(alert(t.data.message),A({...m,isDisabled:!0,loading:!1}))}else alert("Please Fill The Data Properly")}catch(e){console.log(e),alert(e.message)}};return r.jsx(r.Fragment,{children:r.jsx(D(),{open:e,onClose:()=>{s(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:r.jsx(v(),{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"white",p:4,bgcolor:"white"},children:(0,r.jsxs)(h(),{sx:{marginTop:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsxs)(h(),{sx:{mt:"30px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[r.jsx(h(),{sx:{position:"relative",height:"100px",width:"100px",borderRadius:"100%",overflow:"hidden"},children:r.jsx(f(),{src:a,style:{position:"absolute",height:"100%",width:"100%"}})}),r.jsx(d(),{variant:"contained",sx:{fontSize:"12px",mt:"15px"},children:"Change Photo"})]}),r.jsx(u(),{component:"h1",variant:"h5",sx:{mt:"20px"},children:"User Profile"}),(0,r.jsxs)(h(),{sx:{mt:3},children:[(0,r.jsxs)(c(),{container:!0,spacing:2,children:[r.jsx(c(),{item:!0,xs:12,children:r.jsx(B(),{name:"fullName",required:!0,fullWidth:!0,label:"Full Name",value:x.fullName,onChange:handleCollect})}),r.jsx(c(),{item:!0,xs:12,children:r.jsx(B(),{required:!0,fullWidth:!0,label:"Email Address",name:"email",value:x.email,onChange:handleCollect})}),r.jsx(c(),{item:!0,xs:12,children:r.jsx(B(),{required:!0,fullWidth:!0,label:"Mobile",name:"mobile",value:x.mobile,onChange:handleCollect})})]}),m.loading?r.jsx(h(),{sx:{display:"flex",justifyContent:"center",mt:"20px"},children:r.jsx(N(),{color:"inherit",size:"1.5rem"})}):r.jsx(d(),{type:"submit",disabled:m.isDisabled,fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:handleSubmit,children:"Submit"})]})]})})})})};var U=t(49408),z=t(26858);let page=()=>{let e=(0,_.useRouter)(),[s,t]=(0,i.useState)([]),[l,o]=(0,i.useState)(!1),[x,p]=(0,i.useState)(!1),[m,A]=(0,i.useState)({open:!1,message:""}),[b,j]=(0,i.useState)(!0),fetchUserDetails=async()=>{let e=await JSON.parse(localStorage.getItem("UID"));try{let s=await S.Z.get(`/api/profile/${e}`);t(...s.data.resp),j(!1)}catch(e){console.log(e),alert(e.message)}};return(0,i.useEffect)(()=>{fetchUserDetails()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(g(),{disableGutters:!0,maxWidth:"xl",children:[(0,r.jsxs)(c(),{container:!0,justifyContent:"space-between",alignItems:"center",sx:{height:"70px",bgcolor:"#37474f"},children:[r.jsx(c(),{item:!0,xs:4,children:r.jsx(u(),{sx:{color:"white",fontSize:"20px",fontWeight:"600",cursor:"pointer",userSelect:"none"},children:"AdelSocialFood"})}),(0,r.jsxs)(c(),{item:!0,xs:4,sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",height:"100%"},children:[r.jsx(u(),{sx:{color:"white",cursor:"pointer",userSelect:"none",mr:"15px"},onClick:()=>e.push("/admin/admindashboard"),children:"Services"}),r.jsx(w(),{sx:{mr:"15px",p:"0px"},onClick:()=>e.push("/profile"),children:r.jsx(z.Z,{sx:{color:"white",fontSize:"40px"}})})]})]}),r.jsx(c(),{container:!0,component:"box",sx:{justifyContent:"center",alignItems:"center",mt:"70px"},children:r.jsx(c(),{component:"box",item:!0,lg:4.5,md:6,sm:10,xs:11,sx:{mt:"30px"},children:b?(0,r.jsxs)(c(),{container:!0,children:[r.jsx(c(),{item:!0,xs:12,sx:{m:"10px",display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx(C(),{variant:"circular",width:100,height:100})}),(0,r.jsxs)(c(),{item:!0,xs:12,children:[r.jsx(C(),{variant:"rectangular",sx:{width:"20%",height:"25px"}}),r.jsx(C(),{variant:"rectangular",sx:{width:"100%",height:"35px",mt:"10px",borderRadius:"7px"}})]}),(0,r.jsxs)(c(),{item:!0,xs:12,sx:{mt:"19px"},children:[r.jsx(C(),{variant:"rectangular",sx:{width:"20%",height:"25px"}}),r.jsx(C(),{variant:"rectangular",sx:{width:"100%",height:"35px",mt:"10px",borderRadius:"7px"}})]}),(0,r.jsxs)(c(),{item:!0,xs:12,sx:{mt:"19px"},children:[r.jsx(C(),{variant:"rectangular",sx:{width:"20%",height:"25px"}}),r.jsx(C(),{variant:"rectangular",sx:{width:"100%",height:"35px",mt:"10px",borderRadius:"7px"}})]}),(0,r.jsxs)(c(),{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-around",alignItems:"center",mt:"10px"},children:[r.jsx(C(),{variant:"rectangular",sx:{width:"20%",height:"35px",borderRadius:"7px"}}),r.jsx(C(),{variant:"rectangular",sx:{width:"20%",height:"35px",mt:"10px",borderRadius:"7px"}})]})]}):r.jsx(v(),{elevation:3,sx:{p:"10px"},children:(0,r.jsxs)(c(),{container:!0,children:[r.jsx(c(),{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx(n(),{sx:{m:1,bgcolor:"secondary.main",width:"100px",height:"100px"},children:r.jsx(h(),{sx:{width:"100px",height:"100px"},children:r.jsx(f(),{src:a,alt:"img",style:{width:"100px",height:"100px"}})})})}),r.jsx(u(),{sx:{fontSize:"15px",fontWeight:"bold",ml:"5px"},children:"Name"}),r.jsx(c(),{item:!0,xs:12,sx:{border:"1px solid grey",borderRadius:"10px",p:"10px"},children:r.jsx(u(),{sx:{fontSize:"15px",color:"grey"},children:s.fullName})}),r.jsx(u(),{sx:{fontSize:"15px",fontWeight:"bold",mt:"10px",ml:"5px"},children:"Email"}),r.jsx(c(),{item:!0,xs:12,sx:{border:"1px solid grey",borderRadius:"10px",p:"10px"},children:r.jsx(u(),{sx:{fontSize:"15px",color:"grey"},children:s.email})}),r.jsx(u(),{sx:{fontSize:"15px",fontWeight:"bold",mt:"10px",ml:"5px"},children:"Mobile"}),r.jsx(c(),{item:!0,xs:12,sx:{border:"1px solid grey",borderRadius:"10px",p:"10px"},children:r.jsx(u(),{sx:{fontSize:"15px",color:"grey"},children:s.mobile})}),(0,r.jsxs)(c(),{item:!0,xs:12,sx:{display:"flex",justifyContent:{lg:"space-evenly",md:"space-evenly",sm:"space-evenly",xs:"space-between"},alignItems:"center",p:"15px 0px"},children:[r.jsx(d(),{variant:"contained",sx:{fontSize:{lg:"13px",md:"12px",sm:"11px",xs:"11px"},bgcolor:"black",color:"white","&:hover":{bgcolor:"black",color:"white"}},onClick:()=>{o(!0)},children:"Change password"}),r.jsx(d(),{variant:"contained",sx:{fontSize:{lg:"13px",md:"12px",sm:"11px",xs:"11px"},bgcolor:"black",color:"white","&:hover":{bgcolor:"black",color:"white"}},onClick:()=>{p(!0)},children:"edit profile"})]})]})})})})]}),r.jsx(U.Z,{customSnack:m,setCustomSnack:A}),r.jsx(components_ChangePassword,{passOpen:l,setPassOpen:o}),r.jsx(components_EditProfile,{openEdit:x,setOpenEdit:p,userData:s,fetchUserDetails:fetchUserDetails,customSnack:m,setCustomSnack:A})]})}},49408:(e,s,t)=>{"use strict";t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(60080),i=t(64832),a=t.n(i),l=t(81932),n=t.n(l);t(9885);let __WEBPACK_DEFAULT_EXPORT__=({customSnack:e,setCustomSnack:s})=>{let handleClose=(t,r)=>{"clickaway"!==r&&s({...e,open:!1})};return r.jsx(a(),{open:e.open,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3,onClose:handleClose,children:r.jsx(n(),{onClose:handleClose,severity:"success",sx:{width:"100%"},children:e.message})})}},63165:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>o});var r=t(17536);let i=(0,r.createProxy)(String.raw`/home/kapil/Desktop/adel social projects/adelsocial/app/profile/page.js`),{__esModule:a,$$typeof:l}=i,n=i.default,o=n}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[8965,380,4271,6614,3258,2451,3832,8060,413,9966,3392,9440,9360,7209,8111,1892,2870,4483,6762,5843,7876,2330,5358],()=>__webpack_exec__(38894));module.exports=t})();